<!doctype html>
<html><head><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1.0" name="viewport"><title>quickslice - Tutorial</title><meta content="quickslice - Tutorial" property="og:title"><meta content="https://quickslice.slices.network/og/default.webp" property="og:image"><meta content="website" property="og:type"><meta content="summary_large_image" name="twitter:card"><link href="/styles.css" rel="stylesheet"></head><body><header class="mobile-header"><div class="mobile-header-brand"><svg xmlns="http://www.w3.org/2000/svg" class="sidebar-logo" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><g xmlns="http://www.w3.org/2000/svg" transform="translate(64, 64)"><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="-28" fill="#FF5722" rx="50" ry="20"></ellipse><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="0" fill="#00ACC1" rx="60" ry="20"></ellipse><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="28" fill="#32CD32" rx="40" ry="20"></ellipse></g></svg><span class="sidebar-title">quickslice</span><span class="sidebar-version">v0.17.1</span></div><button aria-label="Toggle menu" class="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line xmlns="http://www.w3.org/2000/svg" x1="3" x2="21" y1="6" y2="6"></line><line xmlns="http://www.w3.org/2000/svg" x1="3" x2="21" y1="12" y2="12"></line><line xmlns="http://www.w3.org/2000/svg" x1="3" x2="21" y1="18" y2="18"></line></svg></button></header><div class="sidebar-backdrop"></div><div class="container"><aside class="sidebar"><div class="sidebar-brand"><svg xmlns="http://www.w3.org/2000/svg" class="sidebar-logo" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><g xmlns="http://www.w3.org/2000/svg" transform="translate(64, 64)"><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="-28" fill="#FF5722" rx="50" ry="20"></ellipse><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="0" fill="#00ACC1" rx="60" ry="20"></ellipse><ellipse xmlns="http://www.w3.org/2000/svg" cx="0" cy="28" fill="#32CD32" rx="40" ry="20"></ellipse></g></svg><span class="sidebar-title">quickslice</span><span class="sidebar-version">v0.17.1</span></div><a class="tangled-link" href="https://tangled.sh"><svg xmlns="http://www.w3.org/2000/svg" class="sidebar-logo" viewBox="0 0 24.122343 23.274094" xmlns="http://www.w3.org/2000/svg"><g xmlns="http://www.w3.org/2000/svg" transform="translate(-0.4388285,-0.8629527)"><path xmlns="http://www.w3.org/2000/svg" d="m 16.348974,24.09935 -0.06485,-0.03766 -0.202005,-0.0106 -0.202008,-0.01048 -0.275736,-0.02601 -0.275734,-0.02602 v -0.02649 -0.02648 l -0.204577,-0.04019 -0.204578,-0.04019 -0.167616,-0.08035 -0.167617,-0.08035 -0.0014,-0.04137 -0.0014,-0.04137 -0.266473,-0.143735 -0.266475,-0.143735 -0.276098,-0.20335 -0.2761,-0.203347 -0.262064,-0.251949 -0.262064,-0.25195 -0.22095,-0.284628 -0.220948,-0.284629 -0.170253,-0.284631 -0.170252,-0.284628 -0.01341,-0.0144 -0.0134,-0.0144 -0.141982,0.161297 -0.14198,0.1613 -0.22313,0.21426 -0.223132,0.214264 -0.186025,0.146053 -0.186023,0.14605 -0.252501,0.163342 -0.252502,0.163342 -0.249014,0.115348 -0.249013,0.115336 0.0053,0.03241 0.0053,0.03241 -0.1716725,0.04599 -0.171669,0.046 -0.3379966,0.101058 -0.3379972,0.101058 -0.1778925,0.04506 -0.1778935,0.04508 -0.3913655,0.02601 -0.3913643,0.02603 -0.3557868,-0.03514 -0.3557863,-0.03514 -0.037426,-0.03029 -0.037427,-0.03029 -0.076924,0.02011 -0.076924,0.02011 -0.050508,-0.05051 -0.050405,-0.05056 L 6.6604532,23.110188 6.451745,23.063961 6.1546135,22.960559 5.8574835,22.857156 5.5319879,22.694039 5.2064938,22.530922 4.8793922,22.302961 4.5522905,22.075005 4.247598,21.786585 3.9429055,21.49817 3.7185335,21.208777 3.4941628,20.919385 3.3669822,20.705914 3.239803,20.492443 3.1335213,20.278969 3.0272397,20.065499 2.9015252,19.7275 2.7758105,19.389504 2.6925225,18.998139 2.6092345,18.606774 2.6096814,17.91299 2.6101284,17.219208 2.6744634,16.90029 2.7387984,16.581374 2.8474286,16.242088 2.9560588,15.9028 3.1137374,15.583492 3.2714148,15.264182 3.3415068,15.150766 3.4115988,15.03735 3.3127798,14.96945 3.2139618,14.90157 3.0360685,14.800239 2.8581753,14.698908 2.5913347,14.503228 2.3244955,14.307547 2.0621238,14.055599 1.7997507,13.803651 1.6111953,13.56878 1.4226411,13.333906 1.2632237,13.087474 1.1038089,12.841042 0.97442,12.575195 0.8450307,12.30935 0.724603,11.971351 0.6041766,11.633356 0.52150365,11.241991 0.4388285,10.850626 0.44091592,10.156842 0.44300333,9.4630594 0.54235911,9.0369608 0.6417149,8.6108622 0.7741173,8.2694368 0.9065196,7.9280115 1.0736303,7.6214262 1.2407515,7.3148397 1.45931,7.0191718 1.6778685,6.7235039 1.9300326,6.4611321 2.1821966,6.1987592 2.4134579,6.0137228 2.6447193,5.8286865 2.8759792,5.6776409 3.1072406,5.526594 3.4282004,5.3713977 3.7491603,5.2162016 3.9263009,5.1508695 4.1034416,5.0855373 4.2813348,4.7481598 4.4592292,4.4107823 4.6718,4.108422 4.8843733,3.8060618 5.198353,3.4805372 5.5123313,3.155014 5.7685095,2.9596425 6.0246877,2.7642722 6.329187,2.5851365 6.6336863,2.406002 6.9497657,2.2751596 7.2658453,2.1443184 7.4756394,2.0772947 7.6854348,2.01027 8.0825241,1.931086 8.4796139,1.851902 l 0.5870477,0.00291 0.5870469,0.00291 0.4447315,0.092455 0.444734,0.092455 0.302419,0.1105495 0.302417,0.1105495 0.329929,0.1646046 0.32993,0.1646033 0.239329,-0.2316919 0.239329,-0.2316919 0.160103,-0.1256767 0.160105,-0.1256767 0.160102,-0.1021909 0.160105,-0.1021899 0.142315,-0.082328 0.142314,-0.082328 0.231262,-0.1090091 0.231259,-0.1090091 0.26684,-0.098743 0.266839,-0.098743 0.320208,-0.073514 0.320209,-0.073527 0.355787,-0.041833 0.355785,-0.041834 0.426942,0.023827 0.426945,0.023828 0.355785,0.071179 0.355788,0.0711791 0.284627,0.09267 0.284629,0.09267 0.28514,0.1310267 0.28514,0.1310255 0.238179,0.1446969 0.238174,0.1446979 0.259413,0.1955332 0.259413,0.1955319 0.290757,0.296774 0.290758,0.2967753 0.151736,0.1941581 0.151734,0.1941594 0.135326,0.2149951 0.135327,0.2149952 0.154755,0.3202073 0.154758,0.3202085 0.09409,0.2677358 0.09409,0.267737 0.06948,0.3319087 0.06948,0.3319099 0.01111,0.00808 0.01111,0.00808 0.444734,0.2173653 0.444734,0.2173665 0.309499,0.2161102 0.309497,0.2161101 0.309694,0.2930023 0.309694,0.2930037 0.18752,0.2348726 0.187524,0.2348727 0.166516,0.2574092 0.166519,0.2574108 0.15273,0.3260252 0.152734,0.3260262 0.08972,0.2668403 0.08971,0.2668391 0.08295,0.3913655 0.08295,0.3913652 -6.21e-4,0.6582049 -6.21e-4,0.658204 -0.06362,0.315725 -0.06362,0.315725 -0.09046,0.289112 -0.09046,0.289112 -0.122759,0.281358 -0.12276,0.281356 -0.146626,0.252323 -0.146629,0.252322 -0.190443,0.258668 -0.190448,0.258671 -0.254911,0.268356 -0.254911,0.268355 -0.286872,0.223127 -0.286874,0.223127 -0.320203,0.187693 -0.320209,0.187693 -0.04347,0.03519 -0.04347,0.03521 0.0564,0.12989 0.0564,0.129892 0.08728,0.213472 0.08728,0.213471 0.189755,0.729363 0.189753,0.729362 0.0652,0.302417 0.0652,0.302419 -0.0018,0.675994 -0.0018,0.675995 -0.0801,0.373573 -0.08009,0.373577 -0.09,0.266839 -0.09,0.26684 -0.190389,0.391364 -0.19039,0.391366 -0.223169,0.320207 -0.223167,0.320209 -0.303585,0.315294 -0.303584,0.315291 -0.284631,0.220665 -0.284629,0.220663 -0.220128,0.132359 -0.220127,0.132358 -0.242395,0.106698 -0.242394,0.106699 -0.08895,0.04734 -0.08895,0.04733 -0.249052,0.07247 -0.24905,0.07247 -0.322042,0.0574 -0.322044,0.0574 -0.282794,-0.003 -0.282795,-0.003 -0.07115,-0.0031 -0.07115,-0.0031 -0.177894,-0.0033 -0.177893,-0.0033 -0.124528,0.02555 -0.124528,0.02555 z m -4.470079,-5.349839 0.214838,-0.01739 0.206601,-0.06782 0.206602,-0.06782 0.244389,-0.117874 0.244393,-0.11786 0.274473,-0.206822 0.27447,-0.20682 0.229308,-0.257201 0.229306,-0.2572 0.219161,-0.28463 0.219159,-0.284629 0.188541,-0.284628 0.188543,-0.28463 0.214594,-0.373574 0.214593,-0.373577 0.133861,-0.312006 0.133865,-0.312007 0.02861,-0.01769 0.02861,-0.01769 0.197275,0.26212 0.197278,0.262119 0.163613,0.150814 0.163614,0.150814 0.201914,0.09276 0.201914,0.09276 0.302417,0.01421 0.302418,0.01421 0.213472,-0.08025 0.213471,-0.08025 0.200606,-0.204641 0.200606,-0.204642 0.09242,-0.278887 0.09241,-0.278888 0.05765,-0.302418 0.05764,-0.302416 L 18.41327,13.768114 18.39502,13.34117 18.31849,12.915185 18.24196,12.4892 18.15595,12.168033 18.06994,11.846867 17.928869,11.444534 17.787801,11.042201 17.621278,10.73296 17.454757,10.423723 17.337388,10.263619 17.220021,10.103516 17.095645,9.9837986 16.971268,9.8640816 16.990048,9.6813736 17.008828,9.4986654 16.947568,9.249616 16.886308,9.0005655 16.752419,8.7159355 16.618521,8.4313217 16.435707,8.2294676 16.252892,8.0276114 16.079629,7.9004245 15.906366,7.773238 l -0.20429,0.1230127 -0.204289,0.1230121 -0.26702,0.059413 -0.267022,0.059413 -0.205761,-0.021508 -0.205766,-0.021508 -0.23495,-0.08844 -0.234953,-0.08844 -0.118429,-0.090334 -0.118428,-0.090333 h -0.03944 -0.03944 L 13.711268,7.8540732 13.655958,7.9706205 13.497227,8.1520709 13.338499,8.3335203 13.168394,8.4419112 12.998289,8.550301 12.777045,8.624223 12.5558,8.698155 H 12.275611 11.995429 L 11.799973,8.6309015 11.604513,8.5636472 11.491311,8.5051061 11.37811,8.446565 11.138172,8.2254579 10.898231,8.0043497 l -0.09565,-0.084618 -0.09565,-0.084613 -0.218822,0.198024 -0.218822,0.1980231 -0.165392,0.078387 -0.1653925,0.078387 -0.177894,0.047948 -0.177892,0.047948 L 9.3635263,8.4842631 9.144328,8.4846889 8.9195029,8.4147138 8.6946778,8.3447386 8.5931214,8.4414036 8.491565,8.5380686 8.3707618,8.7019598 8.2499597,8.8658478 8.0802403,8.9290726 7.9105231,8.9922974 7.7952769,9.0780061 7.6800299,9.1637148 7.5706169,9.2778257 7.4612038,9.3919481 7.1059768,9.9205267 6.7507497,10.449105 l -0.2159851,0.449834 -0.2159839,0.449834 -0.2216572,0.462522 -0.2216559,0.462523 -0.1459343,0.337996 -0.1459342,0.337998 -0.055483,0.220042 -0.055483,0.220041 -0.015885,0.206903 -0.015872,0.206901 0.034307,0.242939 0.034307,0.24294 0.096281,0.196632 0.096281,0.196634 0.143607,0.125222 0.1436071,0.125222 0.1873143,0.08737 0.1873141,0.08737 0.2752084,0.002 0.2752084,0.002 0.2312297,-0.09773 0.231231,-0.09772 0.1067615,-0.07603 0.1067614,-0.07603 0.3679062,-0.29377 0.3679065,-0.293771 0.026804,0.01656 0.026804,0.01656 0.023626,0.466819 0.023626,0.466815 0.088326,0.513195 0.088326,0.513193 0.08897,0.364413 0.08897,0.364411 0.1315362,0.302418 0.1315352,0.302418 0.1051964,0.160105 0.1051954,0.160103 0.1104741,0.11877 0.1104731,0.118769 0.2846284,0.205644 0.2846305,0.205642 0.144448,0.07312 0.144448,0.07312 0.214787,0.05566 0.214787,0.05566 0.245601,0.03075 0.245602,0.03075 0.204577,-0.0125 0.204578,-0.0125 z m 0.686342,-3.497495 -0.11281,-0.06077 -0.106155,-0.134033 -0.106155,-0.134031 -0.04406,-0.18371 -0.04406,-0.183707 0.02417,-0.553937 0.02417,-0.553936 0.03513,-0.426945 0.03513,-0.426942 0.07225,-0.373576 0.07225,-0.373575 0.05417,-0.211338 0.05417,-0.211339 0.0674,-0.132112 0.0674,-0.132112 0.132437,-0.10916 0.132437,-0.109161 0.187436,-0.04195 0.187438,-0.04195 0.170366,0.06469 0.170364,0.06469 0.114312,0.124073 0.114313,0.124086 0.04139,0.18495 0.04139,0.184951 -0.111218,0.459845 -0.111219,0.459844 -0.03383,0.26584 -0.03382,0.265841 -0.03986,0.818307 -0.03986,0.818309 -0.0378,0.15162 -0.03779,0.151621 -0.11089,0.110562 -0.110891,0.110561 -0.114489,0.04913 -0.114489,0.04913 -0.187932,-0.0016 -0.187929,-0.0016 z m -2.8087655,-0.358124 -0.146445,-0.06848 -0.088025,-0.119502 -0.088024,-0.119502 -0.038581,-0.106736 -0.038581,-0.106736 -0.02237,-0.134956 -0.02239,-0.134957 -0.031955,-0.46988 -0.031955,-0.469881 0.036203,-0.444733 0.036203,-0.444731 0.048862,-0.215257 0.048862,-0.215255 0.076082,-0.203349 0.076081,-0.203348 0.0936,-0.111244 0.0936,-0.111245 0.143787,-0.06531 0.1437865,-0.06532 h 0.142315 0.142314 l 0.142314,0.06588 0.142316,0.06588 0.093,0.102325 0.093,0.102325 0.04042,0.120942 0.04042,0.120942 v 0.152479 0.152477 l -0.03347,0.08804 -0.03347,0.08805 -0.05693,0.275653 -0.05693,0.275651 2.11e-4,0.430246 2.12e-4,0.430243 0.04294,0.392646 0.04295,0.392647 -0.09189,0.200702 -0.09189,0.200702 -0.148688,0.0984 -0.148687,0.0984 -0.20136,0.01212 -0.2013595,0.01212 z" fill="currentColor"></path></g></svg><span>tangled.sh</span></a><div class="search-container"><input class="search-input" id="search-input" placeholder="Search docs..." type="text"><div class="search-results" id="search-results"></div></div><nav><div class="sidebar-group"><div class="sidebar-group-label">Getting Started</div><ul><li><a href="/">Introduction</a></li><li><a class="active" href="/tutorial">Tutorial</a></li></ul></div><div class="sidebar-group"><div class="sidebar-group-label">Guides</div><ul><li><a href="/guides/queries">Queries</a></li><li><a href="/guides/joins">Joins</a></li><li><a href="/guides/mutations">Mutations</a></li><li><a href="/guides/authentication">Authentication</a></li><li><a href="/guides/deployment">Deployment</a></li><li><a href="/guides/patterns">Patterns</a></li><li><a href="/guides/troubleshooting">Troubleshooting</a></li></ul></div><div class="sidebar-group"><div class="sidebar-group-label">Reference</div><ul><li><a href="/reference/aggregations">Aggregations</a></li><li><a href="/reference/subscriptions">Subscriptions</a></li><li><a href="/reference/blobs">Blobs</a></li><li><a href="/reference/variables">Variables</a></li><li><a href="/reference/mcp">MCP</a></li></ul></div></nav></aside><main class="content"><div><div><h1 id="Tutorial-Build-Statusphere-with-Quickslice">Tutorial: Build Statusphere with Quickslice</h1>
<p>Let's build Statusphere, an app where users share their current status as an emoji. This is the same app from the <a href="https://atproto.com/guides/applications">AT Protocol docs</a>, but using Quickslice as the AppView.</p>
<p>Along the way, we'll show what you'd write manually versus what Quickslice handles automatically.</p>
<p><strong>Try it live:</strong> A working example is running at <a href="https://stackblitz.com/edit/stackblitz-starters-g3uwhweu?file=index.html">StackBlitz</a>, connected to a slice at <a href="https://xyzstatusphere.slices.network">xyzstatusphere.slices.network</a> with the <code>xyz.statusphere.status</code> lexicon.</p>
<h2 id="What-Were-Building"><a href="#What-Were-Building" class="header-anchor">#</a>What We're Building</h2>
<p>Statusphere lets users:</p>
<ul>
<li>Log in with their AT Protocol identity</li>
<li>Set their status as an emoji</li>
<li>See a feed of everyone's statuses with profile information</li>
</ul>
<p>By the end of this tutorial, you'll understand how Quickslice eliminates the boilerplate of building an AppView.</p>
<h2 id="Step-1-Project-Setup-and-Importing-Lexicons"><a href="#Step-1-Project-Setup-and-Importing-Lexicons" class="header-anchor">#</a>Step 1: Project Setup and Importing Lexicons</h2>
<p>Every AT Protocol app starts with Lexicons. Here's the Lexicon for a status record:</p>
<pre class="shiki quickslice" style="background-color:#1c1c1c;color:#dedede" tabindex="0"><code><span class="line"><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#9A9A9A">  "</span><span style="color:#7EB3D8">lexicon</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 1</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">  "</span><span style="color:#7EB3D8">id</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">xyz.statusphere.status</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">  "</span><span style="color:#7EB3D8">defs</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#9A9A9A">    "</span><span style="color:#7EB3D8">main</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#9A9A9A">      "</span><span style="color:#7EB3D8">type</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">record</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">      "</span><span style="color:#7EB3D8">key</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">tid</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">      "</span><span style="color:#7EB3D8">record</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#9A9A9A">        "</span><span style="color:#7EB3D8">type</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">object</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">        "</span><span style="color:#7EB3D8">required</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> [</span><span style="color:#9A9A9A">"</span><span style="color:#8CDB8C">status</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">createdAt</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">],</span></span>
<span class="line"><span style="color:#9A9A9A">        "</span><span style="color:#7EB3D8">properties</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#9A9A9A">          "</span><span style="color:#7EB3D8">status</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#9A9A9A">            "</span><span style="color:#7EB3D8">type</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">string</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">            "</span><span style="color:#7EB3D8">minLength</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 1</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">            "</span><span style="color:#7EB3D8">maxGraphemes</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 1</span><span style="color:#9A9A9A">,</span></span>
<span class="line"><span style="color:#9A9A9A">            "</span><span style="color:#7EB3D8">maxLength</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 32</span></span>
<span class="line"><span style="color:#9A9A9A">          },</span></span>
<span class="line"><span style="color:#9A9A9A">          "</span><span style="color:#7EB3D8">createdAt</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span><span style="color:#9A9A9A"> "</span><span style="color:#7EB3D8">type</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">string</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">,</span><span style="color:#9A9A9A"> "</span><span style="color:#7EB3D8">format</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">datetime</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A"> }</span></span>
<span class="line"><span style="color:#9A9A9A">        }</span></span>
<span class="line"><span style="color:#9A9A9A">      }</span></span>
<span class="line"><span style="color:#9A9A9A">    }</span></span>
<span class="line"><span style="color:#9A9A9A">  }</span></span>
<span class="line"><span style="color:#9A9A9A">}</span></span>
<span class="line"></span></code></pre>
<p>Importing this Lexicon into Quickslice triggers three automatic steps:</p>
<ol>
<li><strong>Jetstream registration</strong>: Quickslice tracks <code>xyz.statusphere.status</code> records from the network</li>
<li><strong>Database schema</strong>: Quickslice creates a normalized table with proper columns and indexes</li>
<li><strong>GraphQL types</strong>: Quickslice generates query, mutation, and subscription types</li>
</ol>
<table>
<thead>
<tr>
<th>Without Quickslice</th>
<th>With Quickslice</th>
</tr>
</thead>
<tbody>
<tr>
<td>Write Jetstream connection code</td>
<td>Import your Lexicon</td>
</tr>
<tr>
<td>Filter events for your collection</td>
<td><code>xyz.statusphere.status</code></td>
</tr>
<tr>
<td>Validate incoming records</td>
<td />
</tr>
<tr>
<td>Design database schema</td>
<td>Quickslice handles the rest.</td>
</tr>
<tr>
<td>Write ingestion logic</td>
<td />
</tr>
</tbody>
</table>
<h2 id="Step-2-Querying-Status-Records"><a href="#Step-2-Querying-Status-Records" class="header-anchor">#</a>Step 2: Querying Status Records</h2>
<p>Query indexed records with GraphQL. Quickslice generates a query for each Lexicon type using Relay-style connections:</p>
<pre class="shiki quickslice" style="background-color:#1c1c1c;color:#dedede" tabindex="0"><code><span class="line"><span style="color:#F07068">query</span><span style="color:#5EEBD8"> GetStatuses</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">  xyzStatusphereStatus</span><span style="color:#9A9A9A">(</span></span>
<span class="line"><span style="color:#DEDEDE">    first</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 20</span></span>
<span class="line"><span style="color:#DEDEDE">    sortBy</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> [{</span><span style="color:#8CDB8C"> field</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">createdAt</span><span style="color:#9A9A9A">"</span><span style="color:#DEDEDE">, </span><span style="color:#8CDB8C">direction</span><span style="color:#9A9A9A">:</span><span style="color:#DEDEDE"> DESC </span><span style="color:#9A9A9A">}]</span></span>
<span class="line"><span style="color:#9A9A9A">  )</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">    edges </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">      node </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">        uri</span></span>
<span class="line"><span style="color:#DEDEDE">        did</span></span>
<span class="line"><span style="color:#DEDEDE">        status</span></span>
<span class="line"><span style="color:#DEDEDE">        createdAt</span></span>
<span class="line"><span style="color:#9A9A9A">      }</span></span>
<span class="line"><span style="color:#9A9A9A">    }</span></span>
<span class="line"><span style="color:#9A9A9A">  }</span></span>
<span class="line"><span style="color:#9A9A9A">}</span></span>
<span class="line"></span></code></pre>
<p>The <code>edges</code> and <code>nodes</code> pattern comes from <a href="https://relay.dev/graphql/connections.htm">Relay</a>, a GraphQL pagination specification. Each <code>edge</code> contains a <code>node</code> (the record) and a <code>cursor</code> for pagination.</p>
<p>You can filter with <code>where</code> clauses:</p>
<pre class="shiki quickslice" style="background-color:#1c1c1c;color:#dedede" tabindex="0"><code><span class="line"><span style="color:#F07068">query</span><span style="color:#5EEBD8"> RecentStatuses</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">  xyzStatusphereStatus</span><span style="color:#9A9A9A">(</span></span>
<span class="line"><span style="color:#DEDEDE">    first</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 10</span></span>
<span class="line"><span style="color:#DEDEDE">    where</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span><span style="color:#8CDB8C"> status</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span><span style="color:#8CDB8C"> eq</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> "</span><span style="color:#8CDB8C">üëç</span><span style="color:#9A9A9A">"</span><span style="color:#9A9A9A"> }</span><span style="color:#9A9A9A"> }</span></span>
<span class="line"><span style="color:#9A9A9A">  )</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">    edges </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">      node </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">        did</span></span>
<span class="line"><span style="color:#DEDEDE">        status</span></span>
<span class="line"><span style="color:#9A9A9A">      }</span></span>
<span class="line"><span style="color:#9A9A9A">    }</span></span>
<span class="line"><span style="color:#9A9A9A">  }</span></span>
<span class="line"><span style="color:#9A9A9A">}</span></span>
<span class="line"></span></code></pre>
<table>
<thead>
<tr>
<th>Without Quickslice</th>
<th>With Quickslice</th>
</tr>
</thead>
<tbody>
<tr>
<td>Design query API</td>
<td>Query is auto-generated:</td>
</tr>
<tr>
<td>Write database queries</td>
<td />
</tr>
<tr>
<td>Handle pagination logic</td>
<td><code>xyzStatusphereStatus { edges { node { status } } }</code></td>
</tr>
<tr>
<td>Build filtering and sorting</td>
<td />
</tr>
</tbody>
</table>
<h2 id="Step-3-Joining-Profile-Data"><a href="#Step-3-Joining-Profile-Data" class="header-anchor">#</a>Step 3: Joining Profile Data</h2>
<p>Here Quickslice shines. Every status record has a <code>did</code> field identifying its author. In Bluesky, profile information lives in <code>app.bsky.actor.profile</code> records. Join directly from a status to its author's profile:</p>
<pre class="shiki quickslice" style="background-color:#1c1c1c;color:#dedede" tabindex="0"><code><span class="line"><span style="color:#F07068">query</span><span style="color:#5EEBD8"> StatusesWithProfiles</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">  xyzStatusphereStatus</span><span style="color:#9A9A9A">(</span><span style="color:#DEDEDE">first</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> 20</span><span style="color:#9A9A9A">)</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">    edges </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">      node </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">        status</span></span>
<span class="line"><span style="color:#DEDEDE">        createdAt</span></span>
<span class="line"><span style="color:#DEDEDE">        appBskyActorProfileByDid </span><span style="color:#9A9A9A">{</span></span>
<span class="line"><span style="color:#DEDEDE">          displayName</span></span>
<span class="line"><span style="color:#DEDEDE">          avatar </span><span style="color:#9A9A9A">{</span><span style="color:#DEDEDE"> url </span><span style="color:#9A9A9A">}</span></span>
<span class="line"><span style="color:#9A9A9A">        }</span></span>
<span class="line"><span style="color:#9A9A9A">      }</span></span>
<span class="line"><span style="color:#9A9A9A">    }</span></span>
<span class="line"><span style="color:#9A9A9A">  }</span></span>
<span class="line"><span style="color:#9A9A9A">}</span></span>
<span class="line"></span></code></pre>
<p>The <code>appBskyActorProfileByDid</code> field is a <strong>DID join</strong>. It follows the <code>did</code> on the status record to find the profile authored by that identity.</p>
<p>Quickslice:</p>
<ul>
<li>Collects DIDs from the status records</li>
<li>Batches them into a single database query (DataLoader pattern)</li>
<li>Joins profile data efficiently</li>
</ul>
<table>
<thead>
<tr>
<th>Without Quickslice</th>
<th>With Quickslice</th>
</tr>
</thead>
<tbody>
<tr>
<td>Collect DIDs from status records</td>
<td>Add join to your query:</td>
</tr>
<tr>
<td>Batch resolve DIDs to profiles</td>
<td />
</tr>
<tr>
<td>Handle N+1 query problem</td>
<td><code>appBskyActorProfileByDid { displayName }</code></td>
</tr>
<tr>
<td>Write batching logic</td>
<td />
</tr>
<tr>
<td>Join data in API response</td>
<td />
</tr>
</tbody>
</table>
<h3 id="Other-Join-Types"><a href="#Other-Join-Types" class="header-anchor">#</a>Other Join Types</h3>
<p>Quickslice also supports:</p>
<ul>
<li><strong>Forward joins</strong>: Follow a URI or strong ref to another record</li>
<li><strong>Reverse joins</strong>: Find all records that reference a given record</li>
</ul>
<p>See the <a href="/guides/joins">Joins Guide</a> for complete documentation.</p>
<h2 id="Step-4-Writing-a-Status-Mutations"><a href="#Step-4-Writing-a-Status-Mutations" class="header-anchor">#</a>Step 4: Writing a Status (Mutations)</h2>
<p>To set a user's status, call a mutation:</p>
<pre class="shiki quickslice" style="background-color:#1c1c1c;color:#dedede" tabindex="0"><code><span class="line"><span style="color:#F07068">mutation</span><span style="color:#5EEBD8"> CreateStatus</span><span style="color:#9A9A9A">(</span><span style="color:#DEDEDE">$status</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> String</span><span style="color:#9A9A9A">!,</span><span style="color:#DEDEDE"> $createdAt</span><span style="color:#9A9A9A">:</span><span style="color:#5EEBD8"> DateTime</span><span style="color:#9A9A9A">!)</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">  createXyzStatusphereStatus</span><span style="color:#9A9A9A">(</span></span>
<span class="line"><span style="color:#DEDEDE">    input</span><span style="color:#9A9A9A">:</span><span style="color:#9A9A9A"> {</span><span style="color:#8CDB8C"> status</span><span style="color:#9A9A9A">:</span><span style="color:#DEDEDE"> $status, </span><span style="color:#8CDB8C">createdAt</span><span style="color:#9A9A9A">:</span><span style="color:#DEDEDE"> $createdAt </span><span style="color:#9A9A9A">}</span></span>
<span class="line"><span style="color:#9A9A9A">  )</span><span style="color:#9A9A9A"> {</span></span>
<span class="line"><span style="color:#DEDEDE">    uri</span></span>
<span class="line"><span style="color:#DEDEDE">    status</span></span>
<span class="line"><span style="color:#DEDEDE">    createdAt</span></span>
<span class="line"><span style="color:#9A9A9A">  }</span></span>
<span class="line"><span style="color:#9A9A9A">}</span></span>
<span class="line"></span></code></pre>
<p>Quickslice:</p>
<ol>
<li><strong>Writes to the user's PDS</strong>: Creates the record in their personal data repository</li>
<li><strong>Indexes optimistically</strong>: The record appears in queries immediately, before Jetstream confirmation</li>
<li><strong>Handles OAuth</strong>: Uses the authenticated session to sign the write</li>
</ol>
<table>
<thead>
<tr>
<th>Without Quickslice</th>
<th>With Quickslice</th>
</tr>
</thead>
<tbody>
<tr>
<td>Get OAuth session/agent</td>
<td>Call the mutation:</td>
</tr>
<tr>
<td>Construct record with $type</td>
<td />
</tr>
<tr>
<td>Call putRecord XRPC on the PDS</td>
<td><code>createXyzStatusphereStatus(input: { status: &quot;üëç&quot; })</code></td>
</tr>
<tr>
<td>Optimistically update local DB</td>
<td />
</tr>
<tr>
<td>Handle errors</td>
<td />
</tr>
</tbody>
</table>
<h2 id="Step-5-Authentication"><a href="#Step-5-Authentication" class="header-anchor">#</a>Step 5: Authentication</h2>
<p>Quickslice bridges AT Protocol OAuth. Your frontend initiates login; Quickslice manages the authorization flow:</p>
<ol>
<li>User enters their handle (e.g., <code>alice.bsky.social</code>)</li>
<li>Your app redirects to Quickslice's OAuth endpoint</li>
<li>Quickslice redirects to the user's PDS for authorization</li>
<li>User approves the app</li>
<li>PDS redirects back to Quickslice with an auth code</li>
<li>Quickslice exchanges the code for tokens and establishes a session</li>
</ol>
<p>For authenticated queries and mutations, include auth headers. The exact headers depend on your OAuth flow (DPoP or Bearer token). See the <a href="/guides/authentication">Authentication Guide</a> for details.</p>
<h2 id="Step-6-Deploying-to-Railway"><a href="#Step-6-Deploying-to-Railway" class="header-anchor">#</a>Step 6: Deploying to Railway</h2>
<p>Deploy quickly with Railway:</p>
<ol>
<li>Click the deploy button in the <a href="/guides/deployment">Quickstart Guide</a></li>
<li>Generate an OAuth signing key with <code>goat key generate -t p256</code></li>
<li>Paste the key into the <code>OAUTH_SIGNING_KEY</code> environment variable</li>
<li>Generate a domain and redeploy</li>
<li>Create your admin account by logging in</li>
<li>Upload your Lexicons</li>
</ol>
<p>See <a href="/guides/deployment">Deployment Guide</a> for detailed instructions.</p>
<h2 id="What-Quickslice-Handled"><a href="#What-Quickslice-Handled" class="header-anchor">#</a>What Quickslice Handled</h2>
<p>Quickslice handled:</p>
<ul>
<li><strong>Jetstream connection</strong>: firehose connection, event filtering, reconnection</li>
<li><strong>Record validation</strong>: schema checking against Lexicons</li>
<li><strong>Database schema</strong>: tables, migrations, indexes</li>
<li><strong>Query API</strong>: filtering, sorting, pagination endpoints</li>
<li><strong>Batching</strong>: efficient related-record resolution</li>
<li><strong>Optimistic updates</strong>: indexing before Jetstream confirmation</li>
<li><strong>OAuth flow</strong>: token exchange, session management, DPoP proofs</li>
</ul>
<p>Focus on your application logic; Quickslice handles infrastructure.</p>
<h2 id="Next-Steps"><a href="#Next-Steps" class="header-anchor">#</a>Next Steps</h2>
<ul>
<li><a href="/guides/queries">Queries Guide</a>: Filtering, sorting, and pagination</li>
<li><a href="/guides/joins">Joins Guide</a>: Forward, reverse, and DID joins</li>
<li><a href="/guides/mutations">Mutations Guide</a>: Creating, updating, and deleting records</li>
<li><a href="/guides/authentication">Authentication Guide</a>: Setting up OAuth</li>
<li><a href="/guides/deployment">Deployment Guide</a>: Production configuration</li>
</ul>
</div><nav class="page-nav"><a class="page-nav-link page-nav-prev" href="/"><span class="page-nav-label">Previous</span><span class="page-nav-title">Introduction</span></a><a class="page-nav-link page-nav-next" href="/guides/queries"><span class="page-nav-label">Next</span><span class="page-nav-title">Queries</span></a></nav></div><nav aria-label="Page sections" class="minimap"><div class="minimap-header">On this page</div><a class="minimap-item" data-target-id="What-Were-Building" href="#What-Were-Building">What We&#39;re Building</a><a class="minimap-item" data-target-id="Step-1-Project-Setup-and-Importing-Lexicons" href="#Step-1-Project-Setup-and-Importing-Lexicons">Step 1: Project Setup and Importing Lexicons</a><a class="minimap-item" data-target-id="Step-2-Querying-Status-Records" href="#Step-2-Querying-Status-Records">Step 2: Querying Status Records</a><a class="minimap-item" data-target-id="Step-3-Joining-Profile-Data" href="#Step-3-Joining-Profile-Data">Step 3: Joining Profile Data</a><a class="minimap-item minimap-item-sub" data-target-id="Other-Join-Types" href="#Other-Join-Types">Other Join Types</a><a class="minimap-item" data-target-id="Step-4-Writing-a-Status-Mutations" href="#Step-4-Writing-a-Status-Mutations">Step 4: Writing a Status (Mutations)</a><a class="minimap-item" data-target-id="Step-5-Authentication" href="#Step-5-Authentication">Step 5: Authentication</a><a class="minimap-item" data-target-id="Step-6-Deploying-to-Railway" href="#Step-6-Deploying-to-Railway">Step 6: Deploying to Railway</a><a class="minimap-item" data-target-id="What-Quickslice-Handled" href="#What-Quickslice-Handled">What Quickslice Handled</a><a class="minimap-item" data-target-id="Next-Steps" href="#Next-Steps">Next Steps</a></nav></main></div><script src="/mobile-nav.js"></script><script src="/minimap.js"></script><script src="/fuse.min.js"></script><script src="/search.js"></script></body></html>