class I{withFields(Z){let W=Object.keys(this).map((J)=>(J in Z)?Z[J]:this[J]);return new this.constructor(...W)}}class LZ{static fromArray(Z,W){let J=W||new T;for(let K=Z.length-1;K>=0;--K)J=new tZ(Z[K],J);return J}[Symbol.iterator](){return new EK(this)}toArray(){return[...this]}atLeastLength(Z){let W=this;while(Z-- >0&&W)W=W.tail;return W!==void 0}hasLength(Z){let W=this;while(Z-- >0&&W)W=W.tail;return Z===-1&&W instanceof T}countLength(){let Z=this,W=0;while(Z)Z=Z.tail,W++;return W-1}}function P(Z,W){return new tZ(Z,W)}function Y(Z,W){return LZ.fromArray(Z,W)}class EK{#Z;constructor(Z){this.#Z=Z}next(){if(this.#Z instanceof T)return{done:!0};else{let{head:Z,tail:W}=this.#Z;return this.#Z=W,{value:Z,done:!1}}}}class T extends LZ{}class tZ extends LZ{constructor(Z,W){super();this.head=Z,this.tail=W}}var xK=(Z)=>Z instanceof tZ,kK=(Z)=>Z.head,fK=(Z)=>Z.tail;class O8{bitSize;byteSize;bitOffset;rawBuffer;constructor(Z,W,J){if(!(Z instanceof Uint8Array))throw globalThis.Error("BitArray can only be constructed from a Uint8Array");if(this.bitSize=W??Z.length*8,this.byteSize=Math.trunc((this.bitSize+7)/8),this.bitOffset=J??0,this.bitSize<0)throw globalThis.Error(`BitArray bit size is invalid: ${this.bitSize}`);if(this.bitOffset<0||this.bitOffset>7)throw globalThis.Error(`BitArray bit offset is invalid: ${this.bitOffset}`);if(Z.length!==Math.trunc((this.bitOffset+this.bitSize+7)/8))throw globalThis.Error("BitArray buffer length is invalid");this.rawBuffer=Z}byteAt(Z){if(Z<0||Z>=this.byteSize)return;return j8(this.rawBuffer,this.bitOffset,Z)}equals(Z){if(this.bitSize!==Z.bitSize)return!1;let W=Math.trunc(this.bitSize/8);if(this.bitOffset===0&&Z.bitOffset===0){for(let K=0;K<W;K++)if(this.rawBuffer[K]!==Z.rawBuffer[K])return!1;let J=this.bitSize%8;if(J){let K=8-J;if(this.rawBuffer[W]>>K!==Z.rawBuffer[W]>>K)return!1}}else{for(let K=0;K<W;K++){let X=j8(this.rawBuffer,this.bitOffset,K),V=j8(Z.rawBuffer,Z.bitOffset,K);if(X!==V)return!1}let J=this.bitSize%8;if(J){let K=j8(this.rawBuffer,this.bitOffset,W),X=j8(Z.rawBuffer,Z.bitOffset,W),V=8-J;if(K>>V!==X>>V)return!1}}return!0}get buffer(){if(wK("buffer","Use BitArray.byteAt() or BitArray.rawBuffer instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.buffer does not support unaligned bit arrays");return this.rawBuffer}get length(){if(wK("length","Use BitArray.bitSize or BitArray.byteSize instead"),this.bitOffset!==0||this.bitSize%8!==0)throw new globalThis.Error("BitArray.length does not support unaligned bit arrays");return this.rawBuffer.length}}function j8(Z,W,J){if(W===0)return Z[J]??0;else{let K=Z[J]<<W&255,X=Z[J+1]>>8-W;return K|X}}class F6{constructor(Z){this.value=Z}}var qK={};function wK(Z,W){if(qK[Z])return;console.warn(`Deprecated BitArray.${Z} property used in JavaScript FFI code. ${W}.`),qK[Z]=!0}class r0 extends I{static isResult(Z){return Z instanceof r0}}class H extends r0{constructor(Z){super();this[0]=Z}isOk(){return!0}}var yK=(Z)=>new H(Z);class q extends r0{constructor(Z){super();this[0]=Z}isOk(){return!1}}var bK=(Z)=>new q(Z);function GZ(Z,W){let J=[Z,W];while(J.length){let K=J.pop(),X=J.pop();if(K===X)continue;if(!LK(K)||!LK(X))return!1;if(!dQ(K,X)||_Q(K,X)||$Q(K,X)||mQ(K,X)||uQ(K,X)||cQ(K,X)||pQ(K,X))return!1;let Q=Object.getPrototypeOf(K);if(Q!==null&&typeof Q.equals==="function")try{if(K.equals(X))continue;else return!1}catch{}let[G,F]=vQ(K),M=G(K),U=G(X);if(M.length!==U.length)return!1;for(let z of M)J.push(F(K,z),F(X,z))}return!0}function vQ(Z){if(Z instanceof Map)return[(W)=>W.keys(),(W,J)=>W.get(J)];else{let W=Z instanceof globalThis.Error?["message"]:[];return[(J)=>[...W,...Object.keys(J)],(J,K)=>J[K]]}}function _Q(Z,W){return Z instanceof Date&&(Z>W||Z<W)}function $Q(Z,W){return!(Z instanceof O8)&&Z.buffer instanceof ArrayBuffer&&Z.BYTES_PER_ELEMENT&&!(Z.byteLength===W.byteLength&&Z.every((J,K)=>J===W[K]))}function mQ(Z,W){return Array.isArray(Z)&&Z.length!==W.length}function uQ(Z,W){return Z instanceof Map&&Z.size!==W.size}function cQ(Z,W){return Z instanceof Set&&(Z.size!=W.size||[...Z].some((J)=>!W.has(J)))}function pQ(Z,W){return Z instanceof RegExp&&(Z.source!==W.source||Z.flags!==W.flags)}function LK(Z){return typeof Z==="object"&&Z!==null}function dQ(Z,W){if(typeof Z!=="object"&&typeof W!=="object"&&(!Z||!W))return!1;if([Promise,WeakSet,WeakMap,Function].some((K)=>Z instanceof K))return!1;return Z.constructor===W.constructor}function JJ(Z,W){if(W===0)return 0;else return Z/W}function F0(Z,W,J,K,X,V,Q){let G=new globalThis.Error(V);G.gleam_error=Z,G.file=W,G.module=J,G.line=K,G.function=X,G.fn=X;for(let F in Q)G[F]=Q[F];return G}class TZ extends I{}class AZ extends I{}class cW extends I{}class L extends I{constructor(Z){super();this[0]=Z}}class g extends I{}function M6(Z,W){if(Z instanceof L){let J=Z[0];return new H(J)}else return new q(W)}function gK(Z,W){if(Z instanceof L)return Z[0];else return W}function U6(Z,W){if(Z instanceof L){let J=Z[0];return W(J)}else return Z}var hK=new WeakMap,I6=new DataView(new ArrayBuffer(8)),z6=0;function H6(Z){let W=hK.get(Z);if(W!==void 0)return W;let J=z6++;if(z6===2147483647)z6=0;return hK.set(Z,J),J}function N6(Z,W){return Z^W+2654435769+(Z<<6)+(Z>>2)|0}function B6(Z){let W=0,J=Z.length;for(let K=0;K<J;K++)W=Math.imul(31,W)+Z.charCodeAt(K)|0;return W}function _K(Z){I6.setFloat64(0,Z);let W=I6.getInt32(0),J=I6.getInt32(4);return Math.imul(73244475,W>>16^W)^J}function sQ(Z){return B6(Z.toString())}function rQ(Z){let W=Object.getPrototypeOf(Z);if(W!==null&&typeof W.hashCode==="function")try{let K=Z.hashCode(Z);if(typeof K==="number")return K}catch{}if(Z instanceof Promise||Z instanceof WeakSet||Z instanceof WeakMap)return H6(Z);if(Z instanceof Date)return _K(Z.getTime());let J=0;if(Z instanceof ArrayBuffer)Z=new Uint8Array(Z);if(Array.isArray(Z)||Z instanceof Uint8Array)for(let K=0;K<Z.length;K++)J=Math.imul(31,J)+QW(Z[K])|0;else if(Z instanceof Set)Z.forEach((K)=>{J=J+QW(K)|0});else if(Z instanceof Map)Z.forEach((K,X)=>{J=J+N6(QW(K),QW(X))|0});else{let K=Object.keys(Z);for(let X=0;X<K.length;X++){let V=K[X],Q=Z[V];J=J+N6(QW(Q),B6(V))|0}}return J}function QW(Z){if(Z===null)return 1108378658;if(Z===void 0)return 1108378659;if(Z===!0)return 1108378657;if(Z===!1)return 1108378656;switch(typeof Z){case"number":return _K(Z);case"string":return B6(Z);case"bigint":return sQ(Z);case"object":return rQ(Z);case"symbol":return H6(Z);case"function":return H6(Z);default:return 0}}var EW=5,P6=Math.pow(2,EW),nQ=P6-1,iQ=P6/2,lQ=P6/4,$Z=0,LW=1,eZ=2,A0=3,R6={type:eZ,bitmap:0,array:[]};function T8(Z,W){return Z>>>W&nQ}function XJ(Z,W){return 1<<T8(Z,W)}function aQ(Z){return Z-=Z>>1&1431655765,Z=(Z&858993459)+(Z>>2&858993459),Z=Z+(Z>>4)&252645135,Z+=Z>>8,Z+=Z>>16,Z&127}function j6(Z,W){return aQ(Z&W-1)}function YW(Z,W,J){let K=Z.length,X=Array(K);for(let V=0;V<K;++V)X[V]=Z[V];return X[W]=J,X}function oQ(Z,W,J){let K=Z.length,X=Array(K+1),V=0,Q=0;while(V<W)X[Q++]=Z[V++];X[Q++]=J;while(V<K)X[Q++]=Z[V++];return X}function D6(Z,W){let J=Z.length,K=Array(J-1),X=0,V=0;while(X<W)K[V++]=Z[X++];++X;while(X<J)K[V++]=Z[X++];return K}function $K(Z,W,J,K,X,V){let Q=QW(W);if(Q===K)return{type:A0,hash:Q,array:[{type:$Z,k:W,v:J},{type:$Z,k:X,v:V}]};let G={val:!1};return A8(O6(R6,Z,Q,W,J,G),Z,K,X,V,G)}function A8(Z,W,J,K,X,V){switch(Z.type){case LW:return tQ(Z,W,J,K,X,V);case eZ:return O6(Z,W,J,K,X,V);case A0:return eQ(Z,W,J,K,X,V)}}function tQ(Z,W,J,K,X,V){let Q=T8(J,W),G=Z.array[Q];if(G===void 0)return V.val=!0,{type:LW,size:Z.size+1,array:YW(Z.array,Q,{type:$Z,k:K,v:X})};if(G.type===$Z){if(GZ(K,G.k)){if(X===G.v)return Z;return{type:LW,size:Z.size,array:YW(Z.array,Q,{type:$Z,k:K,v:X})}}return V.val=!0,{type:LW,size:Z.size,array:YW(Z.array,Q,$K(W+EW,G.k,G.v,J,K,X))}}let F=A8(G,W+EW,J,K,X,V);if(F===G)return Z;return{type:LW,size:Z.size,array:YW(Z.array,Q,F)}}function O6(Z,W,J,K,X,V){let Q=XJ(J,W),G=j6(Z.bitmap,Q);if((Z.bitmap&Q)!==0){let F=Z.array[G];if(F.type!==$Z){let U=A8(F,W+EW,J,K,X,V);if(U===F)return Z;return{type:eZ,bitmap:Z.bitmap,array:YW(Z.array,G,U)}}let M=F.k;if(GZ(K,M)){if(X===F.v)return Z;return{type:eZ,bitmap:Z.bitmap,array:YW(Z.array,G,{type:$Z,k:K,v:X})}}return V.val=!0,{type:eZ,bitmap:Z.bitmap,array:YW(Z.array,G,$K(W+EW,M,F.v,J,K,X))}}else{let F=Z.array.length;if(F>=iQ){let M=Array(32),U=T8(J,W);M[U]=O6(R6,W+EW,J,K,X,V);let z=0,D=Z.bitmap;for(let O=0;O<32;O++){if((D&1)!==0){let R=Z.array[z++];M[O]=R}D=D>>>1}return{type:LW,size:F+1,array:M}}else{let M=oQ(Z.array,G,{type:$Z,k:K,v:X});return V.val=!0,{type:eZ,bitmap:Z.bitmap|Q,array:M}}}}function eQ(Z,W,J,K,X,V){if(J===Z.hash){let Q=T6(Z,K);if(Q!==-1){if(Z.array[Q].v===X)return Z;return{type:A0,hash:J,array:YW(Z.array,Q,{type:$Z,k:K,v:X})}}let G=Z.array.length;return V.val=!0,{type:A0,hash:J,array:YW(Z.array,G,{type:$Z,k:K,v:X})}}return A8({type:eZ,bitmap:XJ(Z.hash,W),array:[Z]},W,J,K,X,V)}function T6(Z,W){let J=Z.array.length;for(let K=0;K<J;K++)if(GZ(W,Z.array[K].k))return K;return-1}function KJ(Z,W,J,K){switch(Z.type){case LW:return ZY(Z,W,J,K);case eZ:return WY(Z,W,J,K);case A0:return JY(Z,K)}}function ZY(Z,W,J,K){let X=T8(J,W),V=Z.array[X];if(V===void 0)return;if(V.type!==$Z)return KJ(V,W+EW,J,K);if(GZ(K,V.k))return V;return}function WY(Z,W,J,K){let X=XJ(J,W);if((Z.bitmap&X)===0)return;let V=j6(Z.bitmap,X),Q=Z.array[V];if(Q.type!==$Z)return KJ(Q,W+EW,J,K);if(GZ(K,Q.k))return Q;return}function JY(Z,W){let J=T6(Z,W);if(J<0)return;return Z.array[J]}function A6(Z,W,J,K){switch(Z.type){case LW:return KY(Z,W,J,K);case eZ:return XY(Z,W,J,K);case A0:return VY(Z,K)}}function KY(Z,W,J,K){let X=T8(J,W),V=Z.array[X];if(V===void 0)return Z;let Q=void 0;if(V.type===$Z){if(!GZ(V.k,K))return Z}else if(Q=A6(V,W+EW,J,K),Q===V)return Z;if(Q===void 0){if(Z.size<=lQ){let G=Z.array,F=Array(Z.size-1),M=0,U=0,z=0;while(M<X){let D=G[M];if(D!==void 0)F[U]=D,z|=1<<M,++U;++M}++M;while(M<G.length){let D=G[M];if(D!==void 0)F[U]=D,z|=1<<M,++U;++M}return{type:eZ,bitmap:z,array:F}}return{type:LW,size:Z.size-1,array:YW(Z.array,X,Q)}}return{type:LW,size:Z.size,array:YW(Z.array,X,Q)}}function XY(Z,W,J,K){let X=XJ(J,W);if((Z.bitmap&X)===0)return Z;let V=j6(Z.bitmap,X),Q=Z.array[V];if(Q.type!==$Z){let G=A6(Q,W+EW,J,K);if(G===Q)return Z;if(G!==void 0)return{type:eZ,bitmap:Z.bitmap,array:YW(Z.array,V,G)};if(Z.bitmap===X)return;return{type:eZ,bitmap:Z.bitmap^X,array:D6(Z.array,V)}}if(GZ(K,Q.k)){if(Z.bitmap===X)return;return{type:eZ,bitmap:Z.bitmap^X,array:D6(Z.array,V)}}return Z}function VY(Z,W){let J=T6(Z,W);if(J<0)return Z;if(Z.array.length===1)return;return{type:A0,hash:Z.hash,array:D6(Z.array,J)}}function mK(Z,W){if(Z===void 0)return;let J=Z.array,K=J.length;for(let X=0;X<K;X++){let V=J[X];if(V===void 0)continue;if(V.type===$Z){W(V.v,V.k);continue}mK(V,W)}}class CZ{static fromObject(Z){let W=Object.keys(Z),J=CZ.new();for(let K=0;K<W.length;K++){let X=W[K];J=J.set(X,Z[X])}return J}static fromMap(Z){let W=CZ.new();return Z.forEach((J,K)=>{W=W.set(K,J)}),W}static new(){return new CZ(void 0,0)}constructor(Z,W){this.root=Z,this.size=W}get(Z,W){if(this.root===void 0)return W;let J=KJ(this.root,0,QW(Z),Z);if(J===void 0)return W;return J.v}set(Z,W){let J={val:!1},K=this.root===void 0?R6:this.root,X=A8(K,0,QW(Z),Z,W,J);if(X===this.root)return this;return new CZ(X,J.val?this.size+1:this.size)}delete(Z){if(this.root===void 0)return this;let W=A6(this.root,0,QW(Z),Z);if(W===this.root)return this;if(W===void 0)return CZ.new();return new CZ(W,this.size-1)}has(Z){if(this.root===void 0)return!1;return KJ(this.root,0,QW(Z),Z)!==void 0}entries(){if(this.root===void 0)return[];let Z=[];return this.forEach((W,J)=>Z.push([J,W])),Z}forEach(Z){mK(this.root,Z)}hashCode(){let Z=0;return this.forEach((W,J)=>{Z=Z+N6(QW(W),QW(J))|0}),Z}equals(Z){if(!(Z instanceof CZ)||this.size!==Z.size)return!1;try{return this.forEach((W,J)=>{if(!GZ(Z.get(J,!W),W))throw vK}),!0}catch(W){if(W===vK)return!1;throw W}}}var vK=Symbol();function S6(Z){return VJ(Z)===0}function QY(Z,W){return!GZ(r(W,Z),new q(void 0))}function uK(Z,W){return QY(W,Z)}function OZ(Z,W,J){return pK(W,J,Z)}function YY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else{let X=J.head;Z=J.tail,W=P(X,K)}}}function GY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return YY(K,Y([]));else{let X=J.tail,V=J.head[0];Z=X,W=P(V,K)}}}function pW(Z){return GY(U0(Z),Y([]))}function dW(Z,W){return cK(W,Z)}function FY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return X;else{let Q=K.tail,G=K.head[0],F=K.head[1];Z=Q,W=V(X,G,F),J=V}}}function n0(Z,W,J){return FY(U0(Z),W,J)}class xZ extends I{}class i0 extends I{}function UY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else Z=J.tail,W=K+1}}function S8(Z){return UY(Z,0)}function S0(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else{let X=J.head;Z=J.tail,W=P(X,K)}}}function l(Z){return S0(Z,Y([]))}function IY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return l(V);else{let{head:Q,tail:G}=K,F,M=X(Q);if(M instanceof H){let z=M[0];F=P(z,V)}else F=V;let U=F;Z=G,W=X,J=U}}}function l0(Z,W){return IY(Z,W,Y([]))}function zY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return l(V);else{let Q=K.head;Z=K.tail,W=X,J=P(X(Q),V)}}}function HZ(Z,W){return zY(Z,W,Y([]))}function HY(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(X instanceof T)return l(G);else{let{head:F,tail:M}=X,U=P(V(F,Q),G);Z=M,W=V,J=Q+1,K=U}}}function dK(Z,W){return HY(Z,W,0,Y([]))}function NY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else{let X=J.head;Z=J.tail,W=P(X,K)}}}function SZ(Z,W){return NY(l(Z),W)}function QJ(Z,W){return P(W,Z)}function DY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return l(K);else{let X=J.head;Z=J.tail,W=S0(X,K)}}}function sK(Z){return DY(Z,Y([]))}function UZ(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return X;else{let Q=K.head;Z=K.tail,W=V(X,Q),J=V}}}function C6(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return new q(void 0);else{let{head:X,tail:V}=J,Q=K(X);if(Q instanceof H)return Q;else Z=V,W=K}}}function BY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return l(V);else{let{head:Q,tail:G}=K;if(uK(X,Q))Z=G,W=X,J=V;else Z=G,W=OZ(X,Q,void 0),J=P(Q,V)}}}function rK(Z){return BY(Z,MZ(),Y([]))}function PY(Z,W,J,K,X,V){while(!0){let Q=Z,G=W,F=J,M=K,U=X,z=V,D=P(U,F);if(Q instanceof T)if(M instanceof xZ)return P(l(D),z);else return P(D,z);else{let{head:O,tail:R}=Q,C=G(U,O);if(M instanceof xZ)if(C instanceof TZ)Z=R,W=G,J=D,K=M,X=O,V=z;else if(C instanceof AZ)Z=R,W=G,J=D,K=M,X=O,V=z;else{let j;if(M instanceof xZ)j=P(l(D),z);else j=P(D,z);let E=j;if(R instanceof T)return P(Y([O]),E);else{let{head:A,tail:k}=R,b,B=G(O,A);if(B instanceof TZ)b=new xZ;else if(B instanceof AZ)b=new xZ;else b=new i0;let S=b;Z=k,W=G,J=Y([O]),K=S,X=A,V=E}}else if(C instanceof TZ){let j;if(M instanceof xZ)j=P(l(D),z);else j=P(D,z);let E=j;if(R instanceof T)return P(Y([O]),E);else{let{head:A,tail:k}=R,b,B=G(O,A);if(B instanceof TZ)b=new xZ;else if(B instanceof AZ)b=new xZ;else b=new i0;let S=b;Z=k,W=G,J=Y([O]),K=S,X=A,V=E}}else if(C instanceof AZ){let j;if(M instanceof xZ)j=P(l(D),z);else j=P(D,z);let E=j;if(R instanceof T)return P(Y([O]),E);else{let{head:A,tail:k}=R,b,B=G(O,A);if(B instanceof TZ)b=new xZ;else if(B instanceof AZ)b=new xZ;else b=new i0;let S=b;Z=k,W=G,J=Y([O]),K=S,X=A,V=E}}else Z=R,W=G,J=D,K=M,X=O,V=z}}}function RY(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(X instanceof T)return S0(V,G);else if(V instanceof T)return S0(X,G);else{let{head:F,tail:M}=X,U=V.head,z=V.tail,D=Q(F,U);if(D instanceof TZ)Z=M,W=V,J=Q,K=P(F,G);else if(D instanceof AZ)Z=X,W=z,J=Q,K=P(U,G);else Z=X,W=z,J=Q,K=P(U,G)}}}function jY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return l(V);else{let Q=K.tail;if(Q instanceof T){let G=K.head;return l(P(l(G),V))}else{let G=K.head,F=Q.head,M=Q.tail,U=RY(G,F,X,Y([]));Z=M,W=X,J=P(U,V)}}}}function OY(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(X instanceof T)return S0(V,G);else if(V instanceof T)return S0(X,G);else{let{head:F,tail:M}=X,U=V.head,z=V.tail,D=Q(F,U);if(D instanceof TZ)Z=X,W=z,J=Q,K=P(U,G);else if(D instanceof AZ)Z=M,W=V,J=Q,K=P(F,G);else Z=M,W=V,J=Q,K=P(F,G)}}}function TY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return l(V);else{let Q=K.tail;if(Q instanceof T){let G=K.head;return l(P(l(G),V))}else{let G=K.head,F=Q.head,M=Q.tail,U=OY(G,F,X,Y([]));Z=M,W=X,J=P(U,V)}}}}function AY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return K;else if(X instanceof xZ)if(K.tail instanceof T)return K.head;else Z=jY(K,V,Y([])),W=new i0,J=V;else if(K.tail instanceof T){let G=K.head;return l(G)}else Z=TY(K,V,Y([])),W=new xZ,J=V}}function q6(Z,W){if(Z instanceof T)return Z;else{let J=Z.tail;if(J instanceof T)return Z;else{let K=Z.head,X=J.head,V=J.tail,Q,G=W(K,X);if(G instanceof TZ)Q=new xZ;else if(G instanceof AZ)Q=new xZ;else Q=new i0;let F=Q,M=PY(V,W,Y([K]),F,X,Y([]));return AY(M,new xZ,W)}}}function SY(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(X instanceof T)return l(P([V,Q],G));else{let F=X.head[0];if(GZ(F,V)){let M=X.tail;return S0(G,P([F,Q],M))}else{let M=X.head;Z=X.tail,W=V,J=Q,K=P(M,G)}}}}function w6(Z,W,J){return SY(Z,W,J,Y([]))}function nK(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return;else{let{head:X,tail:V}=J;K(X),Z=V,W=K}}}function iK(Z,W){if(Z instanceof T)return new q(void 0);else{let{head:J,tail:K}=Z;return new H(UZ(K,J,W))}}class z0 extends I{constructor(Z,W,J){super();this.expected=Z,this.found=W,this.path=J}}class ZW extends I{constructor(Z){super();this.function=Z}}function s(Z,W){let J=W.function(Z),K,X;if(K=J[0],X=J[1],X instanceof T)return new H(K);else return new q(X)}function t(Z){return new ZW((W)=>{return[Z,Y([])]})}function wY(Z){return[Z,Y([])]}function C8(Z,W){return new ZW((J)=>{let K=Z.function(J),X,V;return X=K[0],V=K[1],[W(X),V]})}function LY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(V instanceof T)return X;else{let{head:Q,tail:G}=V,F=Q.function(K),M,U;if(M=F,U=F[1],U instanceof T)return M;else Z=K,W=X,J=G}}}function oK(Z,W){return new ZW((J)=>{let K=Z.function(J),X,V;if(X=K,V=K[1],V instanceof T)return X;else return LY(J,X,W)})}function sW(Z){return new ZW((W)=>{if(QX(W))return[new g,Y([])];else{let K=Z.function(W),X,V;return X=K[0],V=K[1],[new L(X),V]}})}var NZ=new ZW(wY);function tK(Z,W){return Y([new z0(Z,I0(W),Y([]))])}function E6(Z,W,J){let K=J(Z);if(K instanceof H)return[K[0],Y([])];else return[K[0],Y([new z0(W,I0(Z),Y([]))])]}function EY(Z){if(GZ(n(!0),Z))return[!0,Y([])];else if(GZ(n(!1),Z))return[!1,Y([])];else return[!1,tK("Bool",Z)]}function xY(Z){return E6(Z,"Int",XX)}function kY(Z){return E6(Z,"Float",KX)}var BW=new ZW(EY),mZ=new ZW(xY),eK=new ZW(kY);function fY(Z){return E6(Z,"String",VX)}var c=new ZW(fY);function yY(Z,W,J,K,X){let V=K(W),Q=V[1];if(Q instanceof T){let G=V[0],F=X(J),M=F[1];if(M instanceof T){let U=F[0];return[OZ(Z[0],G,U),Z[1]]}else{let U=M;return a0([MZ(),U],Y(["values"]))}}else{let G=Q;return a0([MZ(),G],Y(["keys"]))}}function rW(Z,W){return new ZW((J)=>{let K=JX(J);if(K instanceof H){let X=K[0];return n0(X,[MZ(),Y([])],(V,Q,G)=>{if(V[1]instanceof T)return yY(V,Q,G,Z.function,W.function);else return V})}else return[MZ(),tK("Dict",J)]})}function PW(Z){return new ZW((W)=>{return WX(W,Z.function,(J,K)=>{return a0(J,Y([K]))},0,Y([]))})}function a0(Z,W){let J=oK(c,Y([(()=>{return C8(mZ,qZ)})()])),K=HZ(W,(V)=>{let Q=n(V),G=s(Q,J);if(G instanceof H)return G[0];else return"<"+I0(Q)+">"}),X=HZ(Z[1],(V)=>{return new z0(V.expected,V.found,SZ(K,V.path))});return[Z[0],X]}function bY(Z,W,J,K,X){while(!0){let V=Z,Q=W,G=J,F=K,M=X;if(V instanceof T){let z=G(F);return a0(z,l(Q))}else{let{head:U,tail:z}=V,D=ZX(F,U);if(D instanceof H){let O=D[0];if(O instanceof L){let R=O[0];Z=z,W=P(U,Q),J=G,K=R,X=M}else return M(F,P(U,Q))}else{let O=D[0],R=G(F),C;C=R[0];let j=[C,Y([new z0(O,I0(F),Y([]))])];return a0(j,l(Q))}}}}function x6(Z,W,J){return new ZW((K)=>{let X=bY(Z,Y([]),W.function,K,(U,z)=>{let D=W.function(U),O;O=D[0];let R=[O,Y([new z0("Field","Nothing",Y([]))])];return a0(R,l(z))}),V,Q;V=X[0],Q=X[1];let G=J(V).function(K),F,M;return F=G[0],M=G[1],[F,SZ(Q,M)]})}function $(Z,W,J){return x6(Y([Z]),W,J)}var k6=void 0,YX={};function n(Z){return Z}function qZ(Z){return Z.toString()}function GJ(Z){if(Z==="")return 0;let W=f6(Z);if(W){let J=0;for(let K of W)J++;return J}else return Z.match(/./gsu).length}var GX=void 0;function f6(Z){if(globalThis.Intl&&Intl.Segmenter)return GX||=new Intl.Segmenter,GX.segment(Z)[Symbol.iterator]()}function FJ(Z){let W,J=f6(Z);if(J)W=J.next().value?.segment;else W=Z.match(/./su)?.[0];if(W)return new H([W,Z.slice(W.length)]);else return new q(k6)}function C0(Z){return[Z.charCodeAt(0)|0,Z.slice(1)]}function FW(Z){return Z.toLowerCase()}function MJ(Z){return Z.toUpperCase()}function y6(Z,W,J){if(J<=0||W>=Z.length)return"";let K=f6(Z);if(K){while(W-- >0)K.next();let X="";while(J-- >0){let V=K.next().value;if(V===void 0)break;X+=V.segment}return X}else return Z.match(/./gsu).slice(W,W+J).join("")}function kZ(Z,W,J){return Z.slice(W,W+J)}function o0(Z,W){return Z.startsWith(W)}function UJ(Z,W){return Z.endsWith(W)}function IJ(Z,W){let J=Z.indexOf(W);if(J>=0){let K=Z.slice(0,J),X=Z.slice(J+W.length);return new H([K,X])}else return new q(k6)}var UX=[" ","\t",`
`,"\v","\f","\r","","\u2028","\u2029"].join(""),GF=new RegExp(`^[${UX}]*`),FF=new RegExp(`[${UX}]*$`);function q0(Z){console.log(Z)}function MZ(){return CZ.new()}function VJ(Z){return Z.size}function U0(Z){return LZ.fromArray(Z.entries())}function cK(Z,W){return W.delete(Z)}function r(Z,W){let J=Z.get(W,YX);if(J===YX)return new q(k6);return new H(J)}function pK(Z,W,J){return J.set(Z,W)}function I0(Z){if(typeof Z==="string")return"String";else if(typeof Z==="boolean")return"Bool";else if(Z instanceof r0)return"Result";else if(Z instanceof LZ)return"List";else if(Z instanceof O8)return"BitArray";else if(Z instanceof CZ)return"Dict";else if(Number.isInteger(Z))return"Int";else if(Array.isArray(Z))return"Array";else if(typeof Z==="number")return"Float";else if(Z===null)return"Nil";else if(Z===void 0)return"Nil";else{let W=typeof Z;return W.charAt(0).toUpperCase()+W.slice(1)}}function IX(Z){return new zX().inspect(Z)}function BZ(Z){let W=Z.toString().replace("+","");if(W.indexOf(".")>=0)return W;else{let J=W.indexOf("e");if(J>=0)return W.slice(0,J)+".0"+W.slice(J);else return W+".0"}}class zX{#Z=new Set;inspect(Z){let W=typeof Z;if(Z===!0)return"True";if(Z===!1)return"False";if(Z===null)return"//js(null)";if(Z===void 0)return"Nil";if(W==="string")return this.#V(Z);if(W==="bigint"||Number.isInteger(Z))return Z.toString();if(W==="number")return BZ(Z);if(Z instanceof F6)return this.#Q(Z);if(Z instanceof O8)return this.#G(Z);if(Z instanceof RegExp)return`//js(${Z})`;if(Z instanceof Date)return`//js(Date("${Z.toISOString()}"))`;if(Z instanceof globalThis.Error)return`//js(${Z.toString()})`;if(Z instanceof Function){let K=[];for(let X of Array(Z.length).keys())K.push(String.fromCharCode(X+97));return`//fn(${K.join(", ")}) { ... }`}if(this.#Z.size===this.#Z.add(Z).size)return"//js(circular reference)";let J;if(Array.isArray(Z))J=`#(${Z.map((K)=>this.inspect(K)).join(", ")})`;else if(Z instanceof LZ)J=this.#W(Z);else if(Z instanceof I)J=this.#K(Z);else if(Z instanceof CZ)J=this.#J(Z);else if(Z instanceof Set)return`//js(Set(${[...Z].map((K)=>this.inspect(K)).join(", ")}))`;else J=this.#X(Z);return this.#Z.delete(Z),J}#X(Z){let W=Object.getPrototypeOf(Z)?.constructor?.name||"Object",J=[];for(let V of Object.keys(Z))J.push(`${this.inspect(V)}: ${this.inspect(Z[V])}`);let K=J.length?" "+J.join(", ")+" ":"";return`//js(${W==="Object"?"":W+" "}{${K}})`}#J(Z){let W="dict.from_list([",J=!0;return Z.forEach((K,X)=>{if(!J)W=W+", ";W=W+"#("+this.inspect(X)+", "+this.inspect(K)+")",J=!1}),W+"])"}#K(Z){let W=Object.keys(Z).map((J)=>{let K=this.inspect(Z[J]);return isNaN(parseInt(J))?`${J}: ${K}`:K}).join(", ");return W?`${Z.constructor.name}(${W})`:Z.constructor.name}#W(Z){if(Z instanceof T)return"[]";let W='charlist.from_string("',J="[",K=Z;while(K instanceof tZ){let X=K.head;if(K=K.tail,J!=="[")J+=", ";if(J+=this.inspect(X),W)if(Number.isInteger(X)&&X>=32&&X<=126)W+=String.fromCharCode(X);else W=null}if(W)return W+'")';else return J+"]"}#V(Z){let W='"';for(let J=0;J<Z.length;J++){let K=Z[J];switch(K){case`
`:W+="\\n";break;case"\r":W+="\\r";break;case"\t":W+="\\t";break;case"\f":W+="\\f";break;case"\\":W+="\\\\";break;case'"':W+="\\\"";break;default:if(K<" "||K>"~"&&K<" ")W+="\\u{"+K.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}";else W+=K}}return W+='"',W}#Q(Z){return`//utfcodepoint(${String.fromCodePoint(Z.value)})`}#G(Z){if(Z.bitSize===0)return"<<>>";let W="<<";for(let J=0;J<Z.byteSize-1;J++)W+=Z.byteAt(J).toString(),W+=", ";if(Z.byteSize*8===Z.bitSize)W+=Z.byteAt(Z.byteSize-1).toString();else{let J=Z.bitSize%8;W+=Z.byteAt(Z.byteSize-1)>>8-J,W+=`:size(${J})`}return W+=">>",W}}function ZX(Z,W){if(Z instanceof CZ||Z instanceof WeakMap||Z instanceof Map){let K={},X=Z.get(W,K);if(X===K)return new H(new g);return new H(new L(X))}let J=Number.isInteger(W);if(J&&W>=0&&W<8&&Z instanceof LZ){let K=0;for(let X of Z){if(K===W)return new H(new L(X));K++}return new q("Indexable")}if(J&&Array.isArray(Z)||Z&&typeof Z==="object"||Z&&Object.getPrototypeOf(Z)===Object.prototype){if(W in Z)return new H(new L(Z[W]));return new H(new g)}return new q(J?"Indexable":"Dict")}function WX(Z,W,J,K,X){if(!(Z instanceof LZ||Array.isArray(Z))){let Q=new z0("List",I0(Z),X);return[X,LZ.fromArray([Q])]}let V=[];for(let Q of Z){let G=W(Q),[F,M]=G;if(M instanceof tZ){let[U,z]=J(G,K.toString());return[X,z]}V.push(F),K++}return[LZ.fromArray(V),X]}function JX(Z){if(Z instanceof CZ)return new H(Z);if(Z instanceof Map||Z instanceof WeakMap)return new H(CZ.fromMap(Z));if(Z==null)return new q("Dict");if(typeof Z!=="object")return new q("Dict");let W=Object.getPrototypeOf(Z);if(W===Object.prototype||W===null)return new H(CZ.fromObject(Z));return new q("Dict")}function KX(Z){if(typeof Z==="number")return new H(Z);return new q(0)}function XX(Z){if(Number.isInteger(Z))return new H(Z);return new q(0)}function VX(Z){if(typeof Z==="string")return new H(Z);return new q("")}function QX(Z){return Z===null||Z===void 0}function zJ(Z,W){if(Z>W)return Z;else return W}function NX(Z,W,J){if(J<=0)return"";else if(W<0){let V=GJ(Z)+W;if(V<0)return"";else return y6(Z,V,J)}else return y6(Z,W,J)}function dY(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else{let X=J.head;Z=J.tail,W=K+X}}}function q8(Z){return dY(Z,"")}function sY(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return V;else{let Q=K.head;Z=K.tail,W=X,J=V+X+Q}}}function e0(Z,W){if(Z instanceof T)return"";else{let{head:J,tail:K}=Z;return sY(K,W,J)}}function DX(Z){let J=IX(Z);return n(J)}function RX(Z){if(Z instanceof H)return!0;else return!1}function Z8(Z,W){if(Z instanceof H)return Z;else{let J=Z[0];return new q(W(J))}}function rZ(Z,W){if(Z instanceof H){let J=Z[0];return W(J)}else return Z}function W8(Z,W){if(Z instanceof H)return Z[0];else return W}function b6(Z){return JSON.stringify(Z)}function jX(Z){return Object.fromEntries(Z)}function H0(Z){return Z}function OX(Z){let W=[];while(xK(Z))W.push(kK(Z)),Z=fK(Z);return W}function TX(){return null}function AX(Z){try{let W=JSON.parse(Z);return yK(W)}catch(W){return bK(aY(W,Z))}}function aY(Z,W){if(oY(Z))return SX();return tY(Z,W)}function oY(Z){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(Z.message)}function tY(Z,W){let J=[eY,ZG,JG,WG];for(let K of J){let X=K(Z,W);if(X)return X}return J8("")}function eY(Z){let J=/unexpected token '(.)', ".+" is not valid JSON/i.exec(Z.message);if(!J)return null;let K=NJ(J[1]);return J8(K)}function ZG(Z){let J=/unexpected token (.) in JSON at position (\d+)/i.exec(Z.message);if(!J)return null;let K=NJ(J[1]);return J8(K)}function WG(Z,W){let K=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(Z.message);if(!K)return null;let X=Number(K[2]),V=Number(K[3]),Q=KG(X,V,W),G=NJ(W[Q]);return J8(G)}function JG(Z){let J=/unexpected (identifier|token) "(.)"/i.exec(Z.message);if(!J)return null;let K=NJ(J[2]);return J8(K)}function NJ(Z){return"0x"+Z.charCodeAt(0).toString(16).toUpperCase()}function KG(Z,W,J){if(Z===1)return W-1;let K=1,X=0;return J.split("").find((V,Q)=>{if(V===`
`)K+=1;if(K===Z)return X=Q+W,!0;return!1}),X}class CX extends I{}var SX=()=>new CX;class qX extends I{constructor(Z){super();this[0]=Z}}var J8=(Z)=>new qX(Z);class wX extends I{constructor(Z){super();this[0]=Z}}function XG(Z,W){return rZ(AX(Z),(J)=>{let K=s(J,W);return Z8(K,(X)=>{return new wX(X)})})}function xW(Z,W){return XG(Z,W)}function nW(Z){return b6(Z)}function a(Z){return H0(Z)}function iW(Z){return H0(Z)}function WW(Z){return H0(Z)}function LX(Z){return H0(Z)}function DJ(){return TX()}function K8(Z,W){if(Z instanceof L){let J=Z[0];return W(J)}else return DJ()}function h(Z){return jX(Z)}function EX(Z){return OX(Z)}function kW(Z,W){let K=HZ(Z,W);return EX(K)}class d extends I{constructor(Z,W,J,K,X,V,Q){super();this.scheme=Z,this.userinfo=W,this.host=J,this.port=K,this.path=X,this.query=V,this.fragment=Q}}function YG(Z){return 48>=Z&&Z<=57||65>=Z&&Z<=90||97>=Z&&Z<=122||Z===58||Z===46}function RW(Z,W){return new H(new d(W.scheme,W.userinfo,W.host,W.port,W.path,W.query,new L(Z)))}function GG(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V.startsWith("#"))if(G===0){let F=V.slice(1);return RW(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,Q.host,Q.port,Q.path,new L(M),Q.fragment);return RW(F,U)}else if(V==="")return new H(new d(Q.scheme,Q.userinfo,Q.host,Q.port,Q.path,new L(X),Q.fragment));else{let F=C0(V),M;M=F[1],Z=X,W=M,J=Q,K=G+1}}}function lW(Z,W){return GG(Z,Z,W,0)}function FG(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V.startsWith("?")){let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,Q.host,Q.port,M,Q.query,Q.fragment);return lW(F,U)}else if(V.startsWith("#")){let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,Q.host,Q.port,M,Q.query,Q.fragment);return RW(F,U)}else if(V==="")return new H(new d(Q.scheme,Q.userinfo,Q.host,Q.port,X,Q.query,Q.fragment));else{let F=C0(V),M;M=F[1],Z=X,W=M,J=Q,K=G+1}}}function w0(Z,W){return FG(Z,Z,W,0)}function fW(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K.startsWith("0"))Z=K.slice(1),W=X,J=V*10;else if(K.startsWith("1"))Z=K.slice(1),W=X,J=V*10+1;else if(K.startsWith("2"))Z=K.slice(1),W=X,J=V*10+2;else if(K.startsWith("3"))Z=K.slice(1),W=X,J=V*10+3;else if(K.startsWith("4"))Z=K.slice(1),W=X,J=V*10+4;else if(K.startsWith("5"))Z=K.slice(1),W=X,J=V*10+5;else if(K.startsWith("6"))Z=K.slice(1),W=X,J=V*10+6;else if(K.startsWith("7"))Z=K.slice(1),W=X,J=V*10+7;else if(K.startsWith("8"))Z=K.slice(1),W=X,J=V*10+8;else if(K.startsWith("9"))Z=K.slice(1),W=X,J=V*10+9;else if(K.startsWith("?")){let Q=K.slice(1),G=new d(X.scheme,X.userinfo,X.host,new L(V),X.path,X.query,X.fragment);return lW(Q,G)}else if(K.startsWith("#")){let Q=K.slice(1),G=new d(X.scheme,X.userinfo,X.host,new L(V),X.path,X.query,X.fragment);return RW(Q,G)}else if(K.startsWith("/")){let Q=new d(X.scheme,X.userinfo,X.host,new L(V),X.path,X.query,X.fragment);return w0(K,Q)}else if(K==="")return new H(new d(X.scheme,X.userinfo,X.host,new L(V),X.path,X.query,X.fragment));else return new q(void 0)}}function BJ(Z,W){if(Z.startsWith(":0")){let J=Z.slice(2);return fW(J,W,0)}else if(Z.startsWith(":1")){let J=Z.slice(2);return fW(J,W,1)}else if(Z.startsWith(":2")){let J=Z.slice(2);return fW(J,W,2)}else if(Z.startsWith(":3")){let J=Z.slice(2);return fW(J,W,3)}else if(Z.startsWith(":4")){let J=Z.slice(2);return fW(J,W,4)}else if(Z.startsWith(":5")){let J=Z.slice(2);return fW(J,W,5)}else if(Z.startsWith(":6")){let J=Z.slice(2);return fW(J,W,6)}else if(Z.startsWith(":7")){let J=Z.slice(2);return fW(J,W,7)}else if(Z.startsWith(":8")){let J=Z.slice(2);return fW(J,W,8)}else if(Z.startsWith(":9")){let J=Z.slice(2);return fW(J,W,9)}else if(Z===":")return new H(W);else if(Z==="")return new H(W);else if(Z.startsWith("?")){let J=Z.slice(1);return lW(J,W)}else if(Z.startsWith(":?")){let J=Z.slice(2);return lW(J,W)}else if(Z.startsWith("#")){let J=Z.slice(1);return RW(J,W)}else if(Z.startsWith(":#")){let J=Z.slice(2);return RW(J,W)}else if(Z.startsWith("/"))return w0(Z,W);else if(Z.startsWith(":")){let J=Z.slice(1);if(J.startsWith("/"))return w0(J,W);else return new q(void 0)}else return new q(void 0)}function fX(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V==="")return new H(new d(Q.scheme,Q.userinfo,new L(X),Q.port,Q.path,Q.query,Q.fragment));else if(V.startsWith(":")){let F=kZ(X,0,G),M=new d(Q.scheme,Q.userinfo,new L(F),Q.port,Q.path,Q.query,Q.fragment);return BJ(V,M)}else if(V.startsWith("/")){let F=kZ(X,0,G),M=new d(Q.scheme,Q.userinfo,new L(F),Q.port,Q.path,Q.query,Q.fragment);return w0(V,M)}else if(V.startsWith("?")){let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,new L(M),Q.port,Q.path,Q.query,Q.fragment);return lW(F,U)}else if(V.startsWith("#")){let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,new L(M),Q.port,Q.path,Q.query,Q.fragment);return RW(F,U)}else{let F=C0(V),M;M=F[1],Z=X,W=M,J=Q,K=G+1}}}function MG(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V==="")return new H(new d(Q.scheme,Q.userinfo,new L(V),Q.port,Q.path,Q.query,Q.fragment));else if(V.startsWith("]"))if(G===0){let F=V.slice(1);return BJ(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G+1),U=new d(Q.scheme,Q.userinfo,new L(M),Q.port,Q.path,Q.query,Q.fragment);return BJ(F,U)}else if(V.startsWith("/"))if(G===0)return w0(V,Q);else{let F=kZ(X,0,G),M=new d(Q.scheme,Q.userinfo,new L(F),Q.port,Q.path,Q.query,Q.fragment);return w0(V,M)}else if(V.startsWith("?"))if(G===0){let F=V.slice(1);return lW(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,new L(M),Q.port,Q.path,Q.query,Q.fragment);return lW(F,U)}else if(V.startsWith("#"))if(G===0){let F=V.slice(1);return RW(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,Q.userinfo,new L(M),Q.port,Q.path,Q.query,Q.fragment);return RW(F,U)}else{let F=C0(V),M,U;if(M=F[0],U=F[1],YG(M))Z=X,W=U,J=Q,K=G+1;else return fX(X,X,Q,0)}}}function UG(Z,W){return MG(Z,Z,W,0)}function IG(Z,W){return fX(Z,Z,W,0)}function X8(Z,W){if(Z.startsWith("["))return UG(Z,W);else if(Z.startsWith(":")){let J=new d(W.scheme,W.userinfo,new L(""),W.port,W.path,W.query,W.fragment);return BJ(Z,J)}else if(Z==="")return new H(new d(W.scheme,W.userinfo,new L(""),W.port,W.path,W.query,W.fragment));else return IG(Z,W)}function zG(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V.startsWith("@"))if(G===0){let F=V.slice(1);return X8(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(Q.scheme,new L(M),Q.host,Q.port,Q.path,Q.query,Q.fragment);return X8(F,U)}else if(V==="")return X8(X,Q);else if(V.startsWith("/"))return X8(X,Q);else if(V.startsWith("?"))return X8(X,Q);else if(V.startsWith("#"))return X8(X,Q);else{let F=C0(V),M;M=F[1],Z=X,W=M,J=Q,K=G+1}}}function HG(Z,W){return zG(Z,Z,W,0)}function g6(Z,W){if(Z==="//")return new H(new d(W.scheme,W.userinfo,new L(""),W.port,W.path,W.query,W.fragment));else if(Z.startsWith("//")){let J=Z.slice(2);return HG(J,W)}else return w0(Z,W)}function NG(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(V.startsWith("/"))if(G===0)return g6(V,Q);else{let F=kZ(X,0,G),M=new d(new L(FW(F)),Q.userinfo,Q.host,Q.port,Q.path,Q.query,Q.fragment);return g6(V,M)}else if(V.startsWith("?"))if(G===0){let F=V.slice(1);return lW(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(new L(FW(M)),Q.userinfo,Q.host,Q.port,Q.path,Q.query,Q.fragment);return lW(F,U)}else if(V.startsWith("#"))if(G===0){let F=V.slice(1);return RW(F,Q)}else{let F=V.slice(1),M=kZ(X,0,G),U=new d(new L(FW(M)),Q.userinfo,Q.host,Q.port,Q.path,Q.query,Q.fragment);return RW(F,U)}else if(V.startsWith(":"))if(G===0)return new q(void 0);else{let F=V.slice(1),M=kZ(X,0,G),U=new d(new L(FW(M)),Q.userinfo,Q.host,Q.port,Q.path,Q.query,Q.fragment);return g6(F,U)}else if(V==="")return new H(new d(Q.scheme,Q.userinfo,Q.host,Q.port,X,Q.query,Q.fragment));else{let F=C0(V),M;M=F[1],Z=X,W=M,J=Q,K=G+1}}}function PJ(Z){let W,J=Z.fragment;if(J instanceof L){let B=J[0];W=Y(["#",B])}else W=Y([]);let K=W,X,V=Z.query;if(V instanceof L){let B=V[0];X=P("?",P(B,K))}else X=K;let Q=X,G=P(Z.path,Q),F,M=Z.host,U=o0(Z.path,"/");if(M instanceof L&&!U)if(M[0]!=="")F=P("/",G);else F=G;else F=G;let z=F,D,O=Z.host,R=Z.port;if(O instanceof L&&R instanceof L){let B=R[0];D=P(":",P(qZ(B),z))}else D=z;let C=D,j,E=Z.scheme,A=Z.userinfo,k=Z.host;if(E instanceof L)if(A instanceof L)if(k instanceof L){let B=E[0],S=A[0],y=k[0];j=P(B,P("://",P(S,P("@",P(y,C)))))}else{let B=E[0];j=P(B,P(":",C))}else if(k instanceof L){let B=E[0],S=k[0];j=P(B,P("://",P(S,C)))}else{let B=E[0];j=P(B,P(":",C))}else if(A instanceof g&&k instanceof L){let B=k[0];j=P("//",P(B,C))}else j=C;return q8(j)}var DG=new d(new g,new g,new g,new g,"",new g,new g);function h6(Z){return NG(Z,Z,DG,0)}function V8(Z,W,J){if(Z)return W;else return J()}function o(Z){return Z}class _6 extends I{constructor(Z){super();this.dict=Z}}function w8(){return new _6(MZ())}function hX(Z,W){let J=Z.dict,K=r(J,W);return RX(K)}function vX(Z){return pW(Z.dict)}var OG=void 0;function $6(Z,W){return new _6(OZ(Z.dict,W,OG))}var MW=()=>globalThis?.document,OJ="http://www.w3.org/1999/xhtml",TJ=1,u6=3;var _X=!!globalThis.HTMLElement?.prototype?.moveBefore;var m=Y([]),AJ=new g;var TG=new cW,AG=new TZ,SG=new AZ;function SJ(Z,W){if(Z.name===W.name)return SG;else if(Z.name<W.name)return AG;else return TG}class UW extends I{constructor(Z,W,J){super();this.kind=Z,this.name=W,this.value=J}}class L8 extends I{constructor(Z,W,J){super();this.kind=Z,this.name=W,this.value=J}}class nZ extends I{constructor(Z,W,J,K,X,V,Q,G){super();this.kind=Z,this.name=W,this.handler=J,this.include=K,this.prevent_default=X,this.stop_propagation=V,this.debounce=Q,this.throttle=G}}class E8 extends I{constructor(Z,W,J){super();this.prevent_default=Z,this.stop_propagation=W,this.message=J}}class pX extends I{constructor(Z){super();this.kind=Z}}function xG(Z,W){while(!0){let J=Z,K=W;if(J instanceof T)return K;else{let X=J.head;if(X instanceof UW){let V=X.name;if(V==="")Z=J.tail,W=K;else if(V==="class"){let Q=X.value;if(Q==="")Z=J.tail,W=K;else{let G=J.tail;if(G instanceof T){let F=X;Z=G,W=P(F,K)}else{let F=G.head;if(F instanceof UW)if(F.name==="class"){let U=X.kind,z=Q,D=G.tail,O=F.value,R=z+" "+O,C=new UW(U,"class",R);Z=P(C,D),W=K}else{let U=X;Z=G,W=P(U,K)}else{let M=X;Z=G,W=P(M,K)}}}}else if(V==="style"){let Q=X.value;if(Q==="")Z=J.tail,W=K;else{let G=J.tail;if(G instanceof T){let F=X;Z=G,W=P(F,K)}else{let F=G.head;if(F instanceof UW)if(F.name==="style"){let U=X.kind,z=Q,D=G.tail,O=F.value,R=z+";"+O,C=new UW(U,"style",R);Z=P(C,D),W=K}else{let U=X;Z=G,W=P(U,K)}else{let M=X;Z=G,W=P(M,K)}}}}else{let Q=X;Z=J.tail,W=P(Q,K)}}else{let V=X;Z=J.tail,W=P(V,K)}}}}function dX(Z){if(Z instanceof T)return Z;else if(Z.tail instanceof T)return Z;else{let K=q6(Z,(X,V)=>{return SJ(V,X)});return xG(K,m)}}var p6=0;function sX(Z,W){return new UW(p6,Z,W)}var d6=1;function rX(Z,W){return new L8(d6,Z,W)}var s6=2;function nX(Z,W,J,K,X,V,Q){return new nZ(s6,Z,W,J,K,X,V,Q)}var r6=0;var n6=new pX(r6);var i6=2;function w(Z,W){return sX(Z,W)}function iX(Z,W){return rX(Z,W)}function lX(Z,W){if(W)return w(Z,"");else return iX(Z,iW(!1))}function N(Z){return w("class",Z)}function x8(Z){return w("id",Z)}function L0(Z){return w("href",Z)}function l6(Z){return w("action",Z)}function a6(Z){return w("method",Z)}function aX(Z){return w("accept",e0(Z,","))}function k8(Z){return lX("disabled",Z)}function oX(Z){return w("name",Z)}function f8(Z){return w("placeholder",Z)}function tX(Z){return lX("required",Z)}function bW(Z){return w("type",Z)}function o6(Z){return w("value",Z)}class qJ extends I{constructor(Z,W,J){super();this.synchronous=Z,this.before_paint=W,this.after_paint=J}}class eX extends I{constructor(Z,W,J,K,X){super();this.dispatch=Z,this.emit=W,this.select=J,this.root=K,this.provide=X}}function Z7(Z,W,J,K,X,V){let Q=new eX(W,J,K,X,V);return nK(Z.synchronous,(G)=>{return G(Q)})}var CJ=new qJ(Y([]),Y([]),Y([]));function iZ(){return CJ}function aW(Z){return new qJ(Y([(J)=>{let K=J.dispatch;return Z(K)}]),CJ.before_paint,CJ.after_paint)}function jW(Z){return UZ(Z,CJ,(W,J)=>{return new qJ(UZ(J.synchronous,W.synchronous,QJ),UZ(J.before_paint,W.before_paint,QJ),UZ(J.after_paint,W.after_paint,QJ))})}function lZ(){return null}function y8(Z,W){let J=Z?.get(W);if(J!=null)return new H(J);else return new q(void 0)}function b8(Z,W){return Z&&Z.has(W)}function E0(Z,W,J){return Z??=new Map,Z.set(W,J),Z}function t6(Z,W){return Z?.delete(W),Z}class e6 extends I{}class Z9 extends I{constructor(Z,W){super();this.key=Z,this.parent=W}}class W7 extends I{constructor(Z,W){super();this.index=Z,this.parent=W}}function kG(Z,W){while(!0){let J=Z,K=W;if(K instanceof T)return!1;else{let{head:X,tail:V}=K,Q=o0(J,X);if(Q)return Q;else Z=J,W=V}}}function IW(Z,W,J){if(J==="")return new W7(W,Z);else return new Z9(J,Z)}var Y8=new e6,h8="\t";function J7(Z,W){while(!0){let J=Z,K=W;if(J instanceof e6)if(K instanceof T)return"";else{let X=K.tail;return q8(X)}else if(J instanceof Z9){let X=J.key;Z=J.parent,W=P(h8,P(X,K))}else{let X=J.index;Z=J.parent,W=P(h8,P(qZ(X),K))}}}function K7(Z){return J7(Z,Y([]))}function X7(Z,W){if(W instanceof T)return!1;else return kG(K7(Z),W)}var W9=`
`;function J9(Z,W){return J7(Z,Y([W9,W]))}class aZ extends I{constructor(Z,W,J,K,X){super();this.kind=Z,this.key=W,this.mapper=J,this.children=K,this.keyed_children=X}}class uZ extends I{constructor(Z,W,J,K,X,V,Q,G,F,M){super();this.kind=Z,this.key=W,this.mapper=J,this.namespace=K,this.tag=X,this.attributes=V,this.children=Q,this.keyed_children=G,this.self_closing=F,this.void=M}}class JW extends I{constructor(Z,W,J,K){super();this.kind=Z,this.key=W,this.mapper=J,this.content=K}}class D0 extends I{constructor(Z,W,J,K,X,V,Q){super();this.kind=Z,this.key=W,this.mapper=J,this.namespace=K,this.tag=X,this.attributes=V,this.inner_html=Q}}function G8(Z,W){if(W==="")if(Z==="area")return!0;else if(Z==="base")return!0;else if(Z==="br")return!0;else if(Z==="col")return!0;else if(Z==="embed")return!0;else if(Z==="hr")return!0;else if(Z==="img")return!0;else if(Z==="input")return!0;else if(Z==="link")return!0;else if(Z==="meta")return!0;else if(Z==="param")return!0;else if(Z==="source")return!0;else if(Z==="track")return!0;else if(Z==="wbr")return!0;else return!1;else return!1}function V7(Z,W){if(W instanceof aZ)return new aZ(W.kind,Z,W.mapper,W.children,W.keyed_children);else if(W instanceof uZ)return new uZ(W.kind,Z,W.mapper,W.namespace,W.tag,W.attributes,W.children,W.keyed_children,W.self_closing,W.void);else if(W instanceof JW)return new JW(W.kind,Z,W.mapper,W.content);else return new D0(W.kind,Z,W.mapper,W.namespace,W.tag,W.attributes,W.inner_html)}var OW=0;function K9(Z,W,J,K){return new aZ(OW,Z,W,J,K)}var x0=1;function F8(Z,W,J,K,X,V,Q,G,F){return new uZ(x0,Z,W,J,K,dX(X),V,Q,G,F)}var M8=2;function X9(Z,W,J){return new JW(M8,Z,W,J)}var Q7=3;var V9=(Z,W)=>Z===W,TW=(Z,W)=>{if(Z===W)return!0;if(Z==null||W==null)return!1;let J=typeof Z;if(J!==typeof W)return!1;if(J!=="object")return!1;if(Z.constructor!==W.constructor)return!1;if(Array.isArray(Z))return bG(Z,W);return gG(Z,W)},bG=(Z,W)=>{let J=Z.length;if(J!==W.length)return!1;while(J--)if(!TW(Z[J],W[J]))return!1;return!0},gG=(Z,W)=>{let J=Object.keys(Z),K=J.length;if(Object.keys(W).length!==K)return!1;while(K--){let X=J[K];if(!Object.hasOwn(W,X))return!1;if(!TW(Z[X],W[X]))return!1}return!0};class Z0 extends I{constructor(Z,W,J){super();this.handlers=Z,this.dispatched_paths=W,this.next_dispatched_paths=J}}class G9 extends I{constructor(Z,W){super();this.path=Z,this.handler=W}}class Q9 extends I{constructor(Z){super();this.path=Z}}function F9(){return new Z0(lZ(),m,m)}function M7(Z){return new Z0(Z.handlers,Z.next_dispatched_paths,m)}function U7(Z,W,J){return t6(Z,J9(W,J))}function LJ(Z,W,J){let K=U7(Z.handlers,W,J);return new Z0(K,Z.dispatched_paths,Z.next_dispatched_paths)}function Y7(Z,W,J){return UZ(J,Z,(K,X)=>{if(X instanceof nZ){let V=X.name;return U7(K,W,V)}else return K})}function M9(Z,W,J,K){let X=y8(Z.handlers,W+W9+J);if(X instanceof H){let V=X[0],Q=s(K,V);if(Q instanceof H){let G=Q[0];return new G9(W,G)}else return new Q9(W)}else return new Q9(W)}function U9(Z,W){let J=P(W.path,Z.next_dispatched_paths),K=new Z0(Z.handlers,Z.dispatched_paths,J);if(W instanceof G9){let X=W.handler;return[K,new H(X)]}else return[K,new q(void 0)]}function EJ(Z,W,J,K){let X=M9(Z,W,J,K);return((V)=>{return U9(Z,V)})(X)}function xJ(Z,W){return X7(W,Z.dispatched_paths)}function I7(Z,W,J,K,X){return E0(Z,J9(J,K),C8(X,(V)=>{return new E8(V.prevent_default,V.stop_propagation,o(W)(V.message))}))}function U8(Z,W,J,K,X){let V=I7(Z.handlers,W,J,K,X);return new Z0(V,Z.dispatched_paths,Z.next_dispatched_paths)}function G7(Z,W,J,K){return UZ(K,Z,(X,V)=>{if(V instanceof nZ){let{name:Q,handler:G}=V;return I7(X,W,J,Q,G)}else return X})}function eW(Z,W){let J=V9(Z,o);if(V9(W,o))return Z;else if(J)return W;else return(X)=>{return Z(W(X))}}function F7(Z,W,J,K){while(!0){let X=Z,V=W,Q=J,G=K;if(G instanceof T)return X;else{let{head:F,tail:M}=G;Z=z7(X,V,Q,F),W=V,J=Q+1,K=M}}}function z7(Z,W,J,K){if(K instanceof aZ){let X=K.children,V=IW(W,J,K.key);return F7(Z,V,0,X)}else if(K instanceof uZ){let{attributes:X,children:V}=K,Q=IW(W,J,K.key),F=Y7(Z,Q,X);return F7(F,Q,0,V)}else if(K instanceof JW)return Z;else{let X=K.attributes,V=IW(W,J,K.key);return Y7(Z,V,X)}}function W0(Z,W,J,K){let X=z7(Z.handlers,W,J,K);return new Z0(X,Z.dispatched_paths,Z.next_dispatched_paths)}function Y9(Z,W,J,K,X){while(!0){let V=Z,Q=W,G=J,F=K,M=X;if(M instanceof T)return V;else{let{head:U,tail:z}=M;Z=H7(V,Q,G,F,U),W=Q,J=G,K=F+1,X=z}}}function H7(Z,W,J,K,X){if(X instanceof aZ){let V=X.children,Q=IW(J,K,X.key),G=eW(W,X.mapper);return Y9(Z,G,Q,0,V)}else if(X instanceof uZ){let{attributes:V,children:Q}=X,G=IW(J,K,X.key),F=eW(W,X.mapper),U=G7(Z,F,G,V);return Y9(U,F,G,0,Q)}else if(X instanceof JW)return Z;else{let V=X.attributes,Q=IW(J,K,X.key),G=eW(W,X.mapper);return G7(Z,G,Q,V)}}function J0(Z,W,J,K,X){let V=H7(Z.handlers,W,J,K,X);return new Z0(V,Z.dispatched_paths,Z.next_dispatched_paths)}function I9(Z){return J0(F9(),o,Y8,0,Z)}function N7(Z,W,J,K,X){let V=Y9(Z.handlers,W,J,K,X);return new Z0(V,Z.dispatched_paths,Z.next_dispatched_paths)}function bZ(Z,W,J){return F8("",o,"",Z,W,J,lZ(),!1,G8(Z,""))}function K0(Z,W,J,K){return F8("",o,Z,W,J,K,lZ(),!1,G8(W,Z))}function x(Z){return X9("",o,Z)}function cZ(){return X9("",o,"")}function z9(Z,W){let J=o(eW(o(W),Z.mapper));if(Z instanceof aZ){let{children:K,keyed_children:X}=Z;return new aZ(Z.kind,Z.key,J,o(K),o(X))}else if(Z instanceof uZ){let{attributes:K,children:X,keyed_children:V}=Z;return new uZ(Z.kind,Z.key,J,Z.namespace,Z.tag,o(K),o(X),o(V),Z.self_closing,Z.void)}else if(Z instanceof JW)return o(Z);else{let K=Z.attributes;return new D0(Z.kind,Z.key,J,Z.namespace,Z.tag,o(K),Z.inner_html)}}function gW(Z){return x(Z)}function f0(Z,W){return bZ("h1",Z,W)}function v8(Z,W){return bZ("h2",Z,W)}function f(Z,W){return bZ("div",Z,W)}function I8(Z,W){return bZ("li",Z,W)}function pZ(Z,W){return bZ("p",Z,W)}function D7(Z,W){return bZ("pre",Z,W)}function B7(Z,W){return bZ("ul",Z,W)}function y0(Z,W){return bZ("a",Z,W)}function IZ(Z,W){return bZ("span",Z,W)}function dZ(Z,W){return bZ("button",Z,W)}function H9(Z,W){return bZ("form",Z,W)}function z8(Z){return bZ("input",Z,m)}function kJ(Z,W){return bZ("label",Z,W)}class _8 extends I{constructor(Z,W,J,K){super();this.index=Z,this.removed=W,this.changes=J,this.children=K}}class P7 extends I{constructor(Z,W){super();this.kind=Z,this.content=W}}class R7 extends I{constructor(Z,W){super();this.kind=Z,this.inner_html=W}}class j7 extends I{constructor(Z,W,J){super();this.kind=Z,this.added=W,this.removed=J}}class O7 extends I{constructor(Z,W,J){super();this.kind=Z,this.key=W,this.before=J}}class T7 extends I{constructor(Z,W,J){super();this.kind=Z,this.index=W,this.with=J}}class A7 extends I{constructor(Z,W){super();this.kind=Z,this.index=W}}class S7 extends I{constructor(Z,W,J){super();this.kind=Z,this.children=W,this.before=J}}function N9(Z,W,J,K){return new _8(Z,W,J,K)}var D9=0;function C7(Z){return new P7(D9,Z)}var B9=1;function q7(Z){return new R7(B9,Z)}var P9=2;function R9(Z,W){return new j7(P9,Z,W)}var j9=3;function w7(Z,W){return new O7(j9,Z,W)}var O9=4;function L7(Z){return new A7(O9,Z)}var T9=5;function b0(Z,W){return new T7(T9,Z,W)}var A9=6;function S9(Z,W){return new S7(A9,Z,W)}class x7 extends I{constructor(Z,W,J,K,X,V,Q,G){super();this.kind=Z,this.open_shadow_root=W,this.will_adopt_styles=J,this.observed_attributes=K,this.observed_properties=X,this.requested_contexts=V,this.provided_contexts=Q,this.vdom=G}}class k7 extends I{constructor(Z,W){super();this.kind=Z,this.patch=W}}class f7 extends I{constructor(Z,W,J){super();this.kind=Z,this.name=W,this.data=J}}class y7 extends I{constructor(Z,W,J){super();this.kind=Z,this.key=W,this.value=J}}class fJ extends I{constructor(Z,W){super();this.kind=Z,this.messages=W}}class yJ extends I{constructor(Z,W,J){super();this.kind=Z,this.name=W,this.value=J}}class bJ extends I{constructor(Z,W,J){super();this.kind=Z,this.name=W,this.value=J}}class gJ extends I{constructor(Z,W,J,K){super();this.kind=Z,this.path=W,this.name=J,this.event=K}}class C9 extends I{constructor(Z,W,J){super();this.kind=Z,this.key=W,this.value=J}}var _G=0;function b7(Z,W,J,K,X,V,Q){return new x7(_G,Z,W,J,K,X,V,Q)}var $G=1;function q9(Z){return new k7($G,Z)}var mG=2;function g7(Z,W){return new f7(mG,Z,W)}var uG=3;function h7(Z,W){return new y7(uG,Z,W)}class hJ extends I{constructor(Z,W){super();this.patch=Z,this.events=W}}class $7 extends I{constructor(Z,W,J){super();this.added=Z,this.removed=W,this.events=J}}function cG(Z,W,J,K){if(J==="input"&&W==="")return xJ(Z,K);else if(J==="select"&&W==="")return xJ(Z,K);else if(J==="textarea"&&W==="")return xJ(Z,K);else return!1}function _7(Z,W,J,K,X,V,Q,G){while(!0){let F=Z,M=W,U=J,z=K,D=X,O=V,R=Q,C=G;if(D instanceof T)if(O instanceof T)return new $7(R,C,z);else{let j=O.head;if(j instanceof nZ){let E=j,A=O.tail,k=j.name,b=j.handler,B=P(E,R),S=U8(z,U,M,k,b);Z=F,W=M,J=U,K=S,X=D,V=A,Q=B,G=C}else{let E=j,A=O.tail,k=P(E,R);Z=F,W=M,J=U,K=z,X=D,V=A,Q=k,G=C}}else if(O instanceof T){let j=D.head;if(j instanceof nZ){let E=j,A=D.tail,k=j.name,b=P(E,C),B=LJ(z,M,k);Z=F,W=M,J=U,K=B,X=A,V=O,Q=R,G=b}else{let E=j,A=D.tail,k=P(E,C);Z=F,W=M,J=U,K=z,X=A,V=O,Q=R,G=k}}else{let{head:j,tail:E}=D,A=O.head,k=O.tail,b=SJ(j,A);if(b instanceof TZ)if(j instanceof nZ){let B=j.name,S=P(j,C),y=LJ(z,M,B);Z=F,W=M,J=U,K=y,X=E,V=O,Q=R,G=S}else{let B=P(j,C);Z=F,W=M,J=U,K=z,X=E,V=O,Q=R,G=B}else if(b instanceof AZ)if(j instanceof UW)if(A instanceof UW){let B,S=A.name;if(S==="value")B=F||j.value!==A.value;else if(S==="checked")B=F||j.value!==A.value;else if(S==="selected")B=F||j.value!==A.value;else B=j.value!==A.value;let y=B,v;if(y)v=P(A,R);else v=R;let _=v;Z=F,W=M,J=U,K=z,X=E,V=k,Q=_,G=C}else if(A instanceof nZ){let{name:B,handler:S}=A,y=P(A,R),v=P(j,C),_=U8(z,U,M,B,S);Z=F,W=M,J=U,K=_,X=E,V=k,Q=y,G=v}else{let B=P(A,R),S=P(j,C);Z=F,W=M,J=U,K=z,X=E,V=k,Q=B,G=S}else if(j instanceof L8)if(A instanceof L8){let B,S=A.name;if(S==="scrollLeft")B=!0;else if(S==="scrollRight")B=!0;else if(S==="value")B=F||!TW(j.value,A.value);else if(S==="checked")B=F||!TW(j.value,A.value);else if(S==="selected")B=F||!TW(j.value,A.value);else B=!TW(j.value,A.value);let y=B,v;if(y)v=P(A,R);else v=R;let _=v;Z=F,W=M,J=U,K=z,X=E,V=k,Q=_,G=C}else if(A instanceof nZ){let{name:B,handler:S}=A,y=P(A,R),v=P(j,C),_=U8(z,U,M,B,S);Z=F,W=M,J=U,K=_,X=E,V=k,Q=y,G=v}else{let B=P(A,R),S=P(j,C);Z=F,W=M,J=U,K=z,X=E,V=k,Q=B,G=S}else if(A instanceof nZ){let{name:B,handler:S}=A,y=j.prevent_default.kind!==A.prevent_default.kind||j.stop_propagation.kind!==A.stop_propagation.kind||j.debounce!==A.debounce||j.throttle!==A.throttle,v;if(y)v=P(A,R);else v=R;let _=v,u=U8(z,U,M,B,S);Z=F,W=M,J=U,K=u,X=E,V=k,Q=_,G=C}else{let B=j.name,S=P(A,R),y=P(j,C),v=LJ(z,M,B);Z=F,W=M,J=U,K=v,X=E,V=k,Q=S,G=y}else if(A instanceof nZ){let{name:B,handler:S}=A,y=P(A,R),v=U8(z,U,M,B,S);Z=F,W=M,J=U,K=v,X=D,V=k,Q=y,G=C}else{let B=P(A,R);Z=F,W=M,J=U,K=z,X=D,V=k,Q=B,G=C}}}}function w9(Z,W,J,K,X,V,Q,G,F,M,U,z,D,O){while(!0){let R=Z,C=W,j=J,E=K,A=X,k=V,b=Q,B=G,S=F,y=M,v=U,_=z,u=D,YZ=O;if(R instanceof T)if(j instanceof T)return new hJ(new _8(S,b,v,_),YZ);else{let sZ=N7(YZ,u,y,B,j),_Z=S9(j,B-k),FZ=P(_Z,v);return new hJ(new _8(S,b,FZ,_),sZ)}else if(j instanceof T){let{head:sZ,tail:_Z}=R,FZ;if(sZ.key===""||!b8(A,sZ.key))FZ=b+1;else FZ=b;let ZZ=FZ,XZ=W0(YZ,y,B,sZ);Z=_Z,W=C,J=j,K=E,X=A,V=k,Q=ZZ,G=B,F=S,M=y,U=v,z=_,D=u,O=XZ}else{let sZ=R.head,_Z=j.head;if(sZ.key!==_Z.key){let FZ=R.tail,zZ=j.tail,ZZ=y8(C,_Z.key);if(b8(E,sZ.key))if(ZZ instanceof H){let p=ZZ[0];if(b8(A,sZ.key))Z=FZ,W=C,J=j,K=E,X=A,V=k-1,Q=b,G=B,F=S,M=y,U=v,z=_,D=u,O=YZ;else{let VZ=B-k,i=P(w7(_Z.key,VZ),v),PZ=E0(A,_Z.key,void 0),QZ=k+1;Z=P(p,R),W=C,J=j,K=E,X=PZ,V=QZ,Q=b,G=B,F=S,M=y,U=i,z=_,D=u,O=YZ}}else{let p=B-k,KZ=J0(YZ,u,y,B,_Z),VZ=S9(Y([_Z]),p),i=P(VZ,v);Z=R,W=C,J=zZ,K=E,X=A,V=k+1,Q=b,G=B+1,F=S,M=y,U=i,z=_,D=u,O=KZ}else if(ZZ instanceof H){let p=B-k,KZ=P(L7(p),v),VZ=W0(YZ,y,B,sZ),i=k-1;Z=FZ,W=C,J=j,K=E,X=A,V=i,Q=b,G=B,F=S,M=y,U=KZ,z=_,D=u,O=VZ}else{let p=b0(B-k,_Z),KZ,i=W0(YZ,y,B,sZ);KZ=J0(i,u,y,B,_Z);let PZ=KZ;Z=FZ,W=C,J=zZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(p,v),z=_,D=u,O=PZ}}else{let FZ=R.head;if(FZ instanceof aZ){let zZ=j.head;if(zZ instanceof aZ){let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=eW(u,p.mapper),i=IW(y,B,p.key),PZ=w9(ZZ.children,ZZ.keyed_children,p.children,p.keyed_children,lZ(),0,0,0,B,i,m,m,VZ,YZ),QZ,jZ=PZ.patch;if(jZ.changes instanceof T)if(jZ.children instanceof T)if(jZ.removed===0)QZ=_;else QZ=P(PZ.patch,_);else QZ=P(PZ.patch,_);else QZ=P(PZ.patch,_);let wW=QZ;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=v,z=wW,D=u,O=PZ.events}else{let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=b0(B-k,p),i,QZ=W0(YZ,y,B,ZZ);i=J0(QZ,u,y,B,p);let jZ=i;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(VZ,v),z=_,D=u,O=jZ}}else if(FZ instanceof uZ){let zZ=j.head;if(zZ instanceof uZ){let ZZ=FZ,XZ=zZ;if(ZZ.namespace===XZ.namespace&&ZZ.tag===XZ.tag){let p=R.tail,KZ=j.tail,VZ=eW(u,XZ.mapper),i=IW(y,B,XZ.key),PZ=cG(YZ,XZ.namespace,XZ.tag,i),QZ=_7(PZ,i,VZ,YZ,ZZ.attributes,XZ.attributes,m,m),jZ,uW,wW;jZ=QZ.added,uW=QZ.removed,wW=QZ.events;let O0;if(jZ instanceof T&&uW instanceof T)O0=m;else O0=Y([R9(jZ,uW)]);let d0=O0,s0=w9(ZZ.children,ZZ.keyed_children,XZ.children,XZ.keyed_children,lZ(),0,0,0,B,i,d0,m,VZ,wW),G0,T0=s0.patch;if(T0.changes instanceof T)if(T0.children instanceof T)if(T0.removed===0)G0=_;else G0=P(s0.patch,_);else G0=P(s0.patch,_);else G0=P(s0.patch,_);let hQ=G0;Z=p,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=v,z=hQ,D=u,O=s0.events}else{let p=FZ,KZ=R.tail,VZ=zZ,i=j.tail,PZ=b0(B-k,VZ),QZ,uW=W0(YZ,y,B,p);QZ=J0(uW,u,y,B,VZ);let wW=QZ;Z=KZ,W=C,J=i,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(PZ,v),z=_,D=u,O=wW}}else{let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=b0(B-k,p),i,QZ=W0(YZ,y,B,ZZ);i=J0(QZ,u,y,B,p);let jZ=i;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(VZ,v),z=_,D=u,O=jZ}}else if(FZ instanceof JW){let zZ=j.head;if(zZ instanceof JW){let ZZ=FZ,XZ=zZ;if(ZZ.content===XZ.content){let p=R.tail,KZ=j.tail;Z=p,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=v,z=_,D=u,O=YZ}else{let p=R.tail,KZ=zZ,VZ=j.tail,i=N9(B,0,Y([C7(KZ.content)]),m);Z=p,W=C,J=VZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=v,z=P(i,_),D=u,O=YZ}}else{let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=b0(B-k,p),i,QZ=W0(YZ,y,B,ZZ);i=J0(QZ,u,y,B,p);let jZ=i;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(VZ,v),z=_,D=u,O=jZ}}else{let zZ=j.head;if(zZ instanceof D0){let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=eW(u,p.mapper),i=IW(y,B,p.key),PZ=_7(!1,i,VZ,YZ,ZZ.attributes,p.attributes,m,m),QZ,jZ,uW;QZ=PZ.added,jZ=PZ.removed,uW=PZ.events;let wW;if(QZ instanceof T&&jZ instanceof T)wW=m;else wW=Y([R9(QZ,jZ)]);let O0=wW,d0;if(ZZ.inner_html===p.inner_html)d0=O0;else d0=P(q7(p.inner_html),O0);let G0=d0,T0;if(G0 instanceof T)T0=_;else T0=P(N9(B,0,G0,Y([])),_);let CK=T0;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=v,z=CK,D=u,O=uW}else{let ZZ=FZ,XZ=R.tail,p=zZ,KZ=j.tail,VZ=b0(B-k,p),i,QZ=W0(YZ,y,B,ZZ);i=J0(QZ,u,y,B,p);let jZ=i;Z=XZ,W=C,J=KZ,K=E,X=A,V=k,Q=b,G=B+1,F=S,M=y,U=P(VZ,v),z=_,D=u,O=jZ}}}}}}function H8(Z,W,J){return w9(Y([W]),lZ(),Y([J]),lZ(),lZ(),0,0,0,0,Y8,m,m,o,M7(Z))}var{setTimeout:pG,clearTimeout:L9}=globalThis,dG=(Z,W)=>MW().createElementNS(Z,W),sG=(Z)=>MW().createTextNode(Z),rG=()=>MW().createDocumentFragment(),N8=(Z,W,J)=>Z.insertBefore(W,J),u7=_X?(Z,W,J)=>Z.moveBefore(W,J):N8,nG=(Z,W)=>Z.removeChild(W),iG=(Z,W)=>Z.getAttribute(W),c7=(Z,W,J)=>Z.setAttribute(W,J),lG=(Z,W)=>Z.removeAttribute(W),aG=(Z,W,J,K)=>Z.addEventListener(W,J,K),p7=(Z,W,J)=>Z.removeEventListener(W,J),oG=(Z,W)=>Z.innerHTML=W,tG=(Z,W)=>Z.data=W,X0=Symbol("lustre");class r7{constructor(Z,W,J,K){this.kind=Z,this.key=K,this.parent=W,this.children=[],this.node=J,this.handlers=new Map,this.throttles=new Map,this.debouncers=new Map}get parentNode(){return this.kind===OW?this.node.parentNode:this.node}}var V0=(Z,W,J,K,X)=>{let V=new r7(Z,W,J,X);return J[X0]=V,W?.children.splice(K,0,V),V},eG=(Z)=>{let W="";for(let J=Z[X0];J.parent;J=J.parent)if(J.key)W=`${h8}${J.key}${W}`;else{let K=J.parent.children.indexOf(J);W=`${h8}${K}${W}`}return W.slice(1)};class x9{#Z=null;#X;#J;#K=!1;constructor(Z,W,J,{exposeKeys:K=!1}={}){this.#Z=Z,this.#X=W,this.#J=J,this.#K=K}mount(Z){V0(x0,null,this.#Z,0,null),this.#P(this.#Z,null,this.#Z[X0],0,Z)}push(Z){this.#W.push({node:this.#Z[X0],patch:Z}),this.#V()}#W=[];#V(){let Z=this.#W;while(Z.length){let{node:W,patch:J}=Z.pop(),{children:K}=W,{changes:X,removed:V,children:Q}=J;if(g0(X,(G)=>this.#Q(W,G)),V)this.#I(W,K.length-V,V);g0(Q,(G)=>{let F=K[G.index|0];this.#W.push({node:F,patch:G})})}}#Q(Z,W){switch(W.kind){case D9:this.#A(Z,W);break;case B9:this.#R(Z,W);break;case P9:this.#H(Z,W);break;case j9:this.#M(Z,W);break;case O9:this.#D(Z,W);break;case T9:this.#U(Z,W);break;case A9:this.#G(Z,W);break}}#G(Z,{children:W,before:J}){let K=rG(),X=this.#F(Z,J);this.#B(K,null,Z,J|0,W),N8(Z.parentNode,K,X)}#U(Z,{index:W,with:J}){this.#I(Z,W|0,1);let K=this.#F(Z,W);this.#P(Z.parentNode,K,Z,W|0,J)}#F(Z,W){W=W|0;let{children:J}=Z,K=J.length;if(W<K)return J[W].node;let X=J[K-1];if(!X&&Z.kind!==OW)return null;if(!X)X=Z;while(X.kind===OW&&X.children.length)X=X.children[X.children.length-1];return X.node.nextSibling}#M(Z,{key:W,before:J}){J=J|0;let{children:K,parentNode:X}=Z,V=K[J].node,Q=K[J];for(let U=J+1;U<K.length;++U){let z=K[U];if(K[U]=Q,Q=z,z.key===W){K[J]=z;break}}let{kind:G,node:F,children:M}=Q;if(u7(X,F,V),G===OW)this.#Y(X,M,V)}#Y(Z,W,J){for(let K=0;K<W.length;++K){let{kind:X,node:V,children:Q}=W[K];if(u7(Z,V,J),X===OW)this.#Y(Z,Q,J)}}#D(Z,{index:W}){this.#I(Z,W,1)}#I(Z,W,J){let{children:K,parentNode:X}=Z,V=K.splice(W,J);for(let Q=0;Q<V.length;++Q){let{kind:G,node:F,children:M}=V[Q];if(nG(X,F),this.#z(V[Q]),G===OW)V.push(...M)}}#z(Z){let{debouncers:W,children:J}=Z;for(let{timeout:K}of W.values())if(K)L9(K);W.clear(),g0(J,(K)=>this.#z(K))}#H({node:Z,handlers:W,throttles:J,debouncers:K},{added:X,removed:V}){g0(V,({name:Q})=>{if(W.delete(Q))p7(Z,Q,E9),this.#N(J,Q,0),this.#N(K,Q,0);else lG(Z,Q),s7[Q]?.removed?.(Z,Q)}),g0(X,(Q)=>this.#T(Z,Q))}#A({node:Z},{content:W}){tG(Z,W??"")}#R({node:Z},{inner_html:W}){oG(Z,W??"")}#B(Z,W,J,K,X){g0(X,(V)=>this.#P(Z,W,J,K++,V))}#P(Z,W,J,K,X){switch(X.kind){case x0:{let V=this.#j(J,K,X);this.#B(V,null,V[X0],0,X.children),N8(Z,V,W);break}case M8:{let V=this.#O(J,K,X);N8(Z,V,W);break}case OW:{let V=this.#O(J,K,X);N8(Z,V,W),this.#B(Z,W,V[X0],0,X.children);break}case Q7:{let V=this.#j(J,K,X);this.#R({node:V},X),N8(Z,V,W);break}}}#j(Z,W,{kind:J,key:K,tag:X,namespace:V,attributes:Q}){let G=dG(V||OJ,X);if(V0(J,Z,G,W,K),this.#K&&K)c7(G,"data-lustre-key",K);return g0(Q,(F)=>this.#T(G,F)),G}#O(Z,W,{kind:J,key:K,content:X}){let V=sG(X??"");return V0(J,Z,V,W,K),V}#T(Z,W){let{debouncers:J,handlers:K,throttles:X}=Z[X0],{kind:V,name:Q,value:G,prevent_default:F,debounce:M,throttle:U}=W;switch(V){case p6:{let z=G??"";if(Q==="virtual:defaultValue"){Z.defaultValue=z;return}else if(Q==="virtual:defaultChecked"){Z.defaultChecked=!0;return}else if(Q==="virtual:defaultSelected"){Z.defaultSelected=!0;return}if(z!==iG(Z,Q))c7(Z,Q,z);s7[Q]?.added?.(Z,z);break}case d6:Z[Q]=G;break;case s6:{if(K.has(Q))p7(Z,Q,E9);let z=F.kind===r6;aG(Z,Q,E9,{passive:z}),this.#N(X,Q,U),this.#N(J,Q,M),K.set(Q,(D)=>this.#S(W,D));break}}}#N(Z,W,J){let K=Z.get(W);if(J>0)if(K)K.delay=J;else Z.set(W,{delay:J});else if(K){let{timeout:X}=K;if(X)L9(X);Z.delete(W)}}#S(Z,W){let{currentTarget:J,type:K}=W,{debouncers:X,throttles:V}=J[X0],Q=eG(J),{prevent_default:G,stop_propagation:F,include:M}=Z;if(G.kind===i6)W.preventDefault();if(F.kind===i6)W.stopPropagation();if(K==="submit")W.detail??={},W.detail.formData=[...new FormData(W.target,W.submitter).entries()];let U=this.#X(W,Q,K,M),z=V.get(K);if(z){let O=Date.now(),R=z.last||0;if(O>R+z.delay)z.last=O,z.lastEvent=W,this.#J(W,U)}let D=X.get(K);if(D)L9(D.timeout),D.timeout=pG(()=>{if(W===V.get(K)?.lastEvent)return;this.#J(W,U)},D.delay);if(!z&&!D)this.#J(W,U)}}var g0=(Z,W)=>{if(Array.isArray(Z))for(let J=0;J<Z.length;J++)W(Z[J]);else if(Z)for(Z;Z.head;Z=Z.tail)W(Z.head)},E9=(Z)=>{let{currentTarget:W,type:J}=Z;W[X0].handlers.get(J)(Z)},d7=(Z)=>{return{added(W){W[Z]=!0},removed(W){W[Z]=!1}}},Z5=(Z)=>{return{added(W,J){W[Z]=J}}},s7={checked:d7("checked"),selected:d7("selected"),value:Z5("value"),autofocus:{added(Z){queueMicrotask(()=>{Z.focus?.()})}},autoplay:{added(Z){try{Z.play?.()}catch(W){console.error(W)}}}};function W5(Z,W,J){while(!0){let K=Z,X=W,V=J;if(K instanceof T)return[X,l(V)];else{let Q=K.tail,G=K.head[0],F=K.head[1],M=V7(G,F),U;if(G==="")U=X;else U=E0(X,G,M);let z=U,D=P(M,V);Z=Q,W=z,J=D}}}function k9(Z){return W5(Z,lZ(),m)}function n7(Z,W,J){let K=k9(J),X,V;return X=K[0],V=K[1],F8("",o,"",Z,W,V,X,!1,G8(Z,""))}function i7(Z,W,J,K){let X=k9(K),V,Q;return V=X[0],Q=X[1],F8("",o,Z,W,J,Q,V,!1,G8(W,Z))}function l7(Z){let W=k9(Z),J,K;return J=W[0],K=W[1],K9("",o,K,J)}var a7=(Z)=>{let W=V0(x0,null,Z,0,null),J=0;for(let Q=Z.firstChild;Q;Q=Q.nextSibling)if(o7(Q))J+=1;if(J===0){let Q=MW().createTextNode("");return V0(M8,W,Q,0,null),Z.replaceChildren(Q),cZ()}if(J===1)return f9(W,Z).head[1];let K=MW().createTextNode(""),X=V0(OW,W,K,0,null),V=f9(X,Z);return Z.insertBefore(K,Z.firstChild),l7(V)},o7=(Z)=>{switch(Z.nodeType){case TJ:return!0;case u6:return!!Z.data;default:return!1}},J5=(Z,W,J,K)=>{if(!o7(W))return null;switch(W.nodeType){case TJ:{let X=V0(x0,Z,W,K,J),V=W.localName,Q=W.namespaceURI,G=!Q||Q===OJ;if(G&&K5.includes(V))X5(V,W);let F=V5(W),M=f9(X,W);return G?n7(V,F,M):i7(Q,V,F,M)}case u6:return V0(M8,Z,W,K,null),x(W.data);default:return null}},K5=["input","select","textarea"],X5=(Z,W)=>{let{value:J,checked:K}=W;if(Z==="input"&&W.type==="checkbox"&&!K)return;if(Z==="input"&&W.type==="radio"&&!K)return;if(W.type!=="checkbox"&&W.type!=="radio"&&!J)return;queueMicrotask(()=>{if(W.value=J,W.checked=K,W.dispatchEvent(new Event("input",{bubbles:!0})),W.dispatchEvent(new Event("change",{bubbles:!0})),MW().activeElement!==W)W.dispatchEvent(new Event("blur",{bubbles:!0}))})},f9=(Z,W)=>{let J=null,K=W.firstChild,X=null,V=0;while(K){let Q=K.nodeType===TJ?K.getAttribute("data-lustre-key"):null;if(Q!=null)K.removeAttribute("data-lustre-key");let G=J5(Z,K,Q,V),F=K.nextSibling;if(G){let M=new tZ([Q??"",G],null);if(X)X=X.tail=M;else X=J=M;V+=1}else W.removeChild(K);K=F}if(!X)return m;return X.tail=m,J},V5=(Z)=>{let W=Z.attributes.length,J=m;while(W-- >0){let K=Z.attributes[W];if(K.name==="xmlns")continue;J=new tZ(Q5(K),J)}return J},Q5=(Z)=>{let{localName:W,value:J}=Z;return w(W,J)};var B0=()=>!!MW();class vJ{constructor(Z,[W,J],K,X){this.root=Z,this.#Z=W,this.#X=K,this.#J=X,this.root.addEventListener("context-request",(G)=>{if(!(G.context&&G.callback))return;if(!this.#Q.has(G.context))return;G.stopImmediatePropagation();let F=this.#Q.get(G.context);if(G.subscribe){let M=()=>{F.subscribers=F.subscribers.filter((U)=>U!==G.callback)};F.subscribers.push([G.callback,M]),G.callback(F.value,M)}else G.callback(F.value)});let V=(G,F,M)=>M9(this.#W,F,M,G),Q=(G,F)=>{let[M,U]=U9(this.#W,F);if(this.#W=M,U.isOk()){let z=U[0];if(z.stop_propagation)G.stopPropagation();if(z.prevent_default)G.preventDefault();this.dispatch(z.message,!1)}};this.#V=new x9(this.root,V,Q),this.#K=a7(this.root),this.#W=F9(),this.#z(J),this.#H()}root=null;dispatch(Z,W=!1){if(this.#G)this.#U.push(Z);else{let[J,K]=this.#J(this.#Z,Z);this.#Z=J,this.#I(K,W)}}emit(Z,W){(this.root.host??this.root).dispatchEvent(new CustomEvent(Z,{detail:W,bubbles:!0,composed:!0}))}provide(Z,W){if(!this.#Q.has(Z))this.#Q.set(Z,{value:W,subscribers:[]});else{let J=this.#Q.get(Z);if(TW(J.value,W))return;J.value=W;for(let K=J.subscribers.length-1;K>=0;K--){let[X,V]=J.subscribers[K];if(!X){J.subscribers.splice(K,1);continue}X(W,V)}}}#Z;#X;#J;#K;#W;#V;#Q=new Map;#G=!1;#U=[];#F=m;#M=m;#Y=null;#D={dispatch:(Z)=>this.dispatch(Z),emit:(Z,W)=>this.emit(Z,W),select:()=>{},root:()=>this.root,provide:(Z,W)=>this.provide(Z,W)};#I(Z,W=!1){if(this.#z(Z),!this.#Y)if(W)this.#Y="sync",queueMicrotask(()=>this.#H());else this.#Y=requestAnimationFrame(()=>this.#H())}#z(Z){this.#G=!0;while(!0){for(let J=Z.synchronous;J.tail;J=J.tail)J.head(this.#D);if(this.#F=e7(this.#F,Z.before_paint),this.#M=e7(this.#M,Z.after_paint),!this.#U.length)break;let W=this.#U.shift();[this.#Z,Z]=this.#J(this.#Z,W)}this.#G=!1}#H(){this.#Y=null;let Z=this.#X(this.#Z),{patch:W,events:J}=H8(this.#W,this.#K,Z);if(this.#W=J,this.#K=Z,this.#V.push(W),this.#F instanceof tZ){let K=t7(this.#F);this.#F=m,queueMicrotask(()=>{this.#I(K,!0)})}if(this.#M instanceof tZ){let K=t7(this.#M);this.#M=m,requestAnimationFrame(()=>{this.#I(K,!0)})}}}function t7(Z){return{synchronous:Z,after_paint:m,before_paint:m}}function e7(Z,W){if(Z instanceof T)return W;else if(W instanceof T)return Z;else return SZ(Z,W)}class b9 extends I{constructor(Z){super();this.message=Z}}class g9 extends I{constructor(Z){super();this.callback=Z}}class h9 extends I{constructor(Z){super();this.callback=Z}}class P0 extends I{constructor(Z){super();this.message=Z}}class h0 extends I{constructor(Z,W){super();this.name=Z,this.data=W}}class _J extends I{constructor(Z,W){super();this.key=Z,this.value=W}}class v0 extends I{}class JV extends I{constructor(Z,W,J,K,X,V,Q,G,F,M){super();this.open_shadow_root=Z,this.adopt_styles=W,this.delegates_focus=J,this.attributes=K,this.properties=X,this.contexts=V,this.is_form_associated=Q,this.on_form_autofill=G,this.on_form_reset=F,this.on_form_restore=M}}function KV(Z){let W=new JV(!0,!0,!1,m,m,m,!1,AJ,AJ,AJ);return UZ(Z,W,(J,K)=>{return K.apply(J)})}class VV{#Z;constructor(Z,[W,J],K,X){this.#Z=new vJ(Z,[W,J],X,K)}send(Z){switch(Z.constructor){case P0:{this.dispatch(Z.message,!1);break}case h0:{this.emit(Z.name,Z.data);break}case v0:break}}dispatch(Z){this.#Z.dispatch(Z)}emit(Z,W){this.#Z.emit(Z,W)}}var QV=({init:Z,update:W,view:J},K,X)=>{if(!B0())return new q(new $8);let V=K instanceof HTMLElement?K:MW().querySelector(K);if(!V)return new q(new v9(K));return new H(new VV(V,Z(X),W,J))};class Y5{#Z;#X;#J;#K;#W;#V;#Q=MZ();#G=new Set;constructor([Z,W],J,K,X){this.#Z=Z,this.#X=J,this.#J=K,this.#K=X,this.#W=this.#J(this.#Z),this.#V=I9(this.#W),this.#Y(W)}send(Z){switch(Z.constructor){case b9:{let{message:W}=Z,J=this.#U(W),K=H8(this.#V,this.#W,J);this.#W=J,this.#V=K.events,this.broadcast(q9(K.patch));return}case g9:{let{callback:W}=Z;this.#G.add(W),W(b7(this.#K.open_shadow_root,this.#K.adopt_styles,pW(this.#K.attributes),pW(this.#K.properties),pW(this.#K.contexts),this.#Q,this.#W));return}case h9:{let{callback:W}=Z;this.#G.delete(W);return}case P0:{let{message:W}=Z,[J,K]=this.#X(this.#Z,W),X=this.#J(J),V=H8(this.#V,this.#W,X);this.#Y(K),this.#Z=J,this.#W=X,this.#V=V.events,this.broadcast(q9(V.patch));return}case h0:{let{name:W,data:J}=Z;this.broadcast(g7(W,J));return}case _J:{let{key:W,value:J}=Z,K=r(this.#Q,W);if(K.isOk()&&TW(K[0],J))return;this.#Q=OZ(this.#Q,W,J),this.broadcast(h7(W,J));return}case v0:{this.#Z=null,this.#X=null,this.#J=null,this.#K=null,this.#W=null,this.#V=null,this.#Q=null,this.#G.clear();return}default:return}}broadcast(Z){for(let W of this.#G)W(Z)}#U(Z){switch(Z.constructor){case fJ:{let{messages:W}=Z,J=this.#Z,K=iZ();for(let X=W;X.head;X=X.tail){let V=this.#U(X.head);if(V instanceof H){J=V[0][0],K=jW(LZ.fromArray([K,V[0][1]]));break}}return this.#Y(K),this.#Z=J,this.#J(this.#Z)}case yJ:{let{name:W,value:J}=Z,K=this.#F(W,J);if(K instanceof q)return this.#W;else{let[X,V]=this.#X(this.#Z,K[0]);return this.#Y(V),this.#Z=X,this.#J(this.#Z)}}case bJ:{let{name:W,value:J}=Z,K=this.#M(W,J);if(K instanceof q)return this.#W;else{let[X,V]=this.#X(this.#Z,K[0]);return this.#Y(V),this.#Z=X,this.#J(this.#Z)}}case gJ:{let{path:W,name:J,event:K}=Z,[X,V]=EJ(this.#V,W,J,K);if(this.#V=X,V instanceof q)return this.#W;else{let[Q,G]=this.#X(this.#Z,V[0].message);return this.#Y(G),this.#Z=Q,this.#J(this.#Z)}}case C9:{let{key:W,value:J}=Z,K=r(this.#K.contexts,W);if(K instanceof q)return this.#W;if(K=s(J,K[0]),K instanceof q)return this.#W;let[X,V]=this.#X(this.#Z,K[0]);return this.#Y(V),this.#Z=X,this.#J(this.#Z)}}}#F(Z,W){let J=r(this.#K.attributes,Z);switch(J.constructor){case H:return J[0](W);case q:return new q(void 0)}}#M(Z,W){let J=r(this.#K.properties,Z);switch(J.constructor){case H:return J[0](W);case q:return new q(void 0)}}#Y(Z){let W=(Q)=>this.send(new P0(Q)),J=(Q,G)=>this.send(new h0(Q,G)),K=()=>{return},X=()=>{return},V=(Q,G)=>this.send(new _J(Q,G));globalThis.queueMicrotask(()=>{Z7(Z,W,J,K,X,V)})}}class YV extends I{constructor(Z,W,J,K){super();this.init=Z,this.update=W,this.view=J,this.config=K}}class v9 extends I{constructor(Z){super();this.selector=Z}}class $8 extends I{}function GV(Z,W,J){return new YV(Z,W,J,KV(m))}function FV(Z,W,J){return V8(!B0(),new q(new $8),()=>{return QV(Z,W,J)})}var M5={handle_external_links:!1,handle_internal_links:!0},zV=globalThis?.window?.location?.href,m9=()=>{if(!zV)return new q(void 0);else return new H($9(new URL(zV)))},u9=(Z,W=M5)=>{document.addEventListener("click",(J)=>{let K=NV(J.target);if(!K)return;try{let X=new URL(K.href),V=$9(X),Q=X.host!==window.location.host||K.target==="_blank";if(!W.handle_external_links&&Q)return;if(!W.handle_internal_links&&!Q)return;if(J.preventDefault(),!Q)window.history.pushState({},"",K.href),window.requestAnimationFrame(()=>{if(X.hash)document.getElementById(X.hash.slice(1))?.scrollIntoView();else window.scrollTo(0,0)});return Z(V)}catch{return}}),window.addEventListener("popstate",(J)=>{J.preventDefault();let K=new URL(window.location.href),X=$9(K);window.requestAnimationFrame(()=>{if(K.hash)document.getElementById(K.hash.slice(1))?.scrollIntoView();else window.scrollTo(0,0)}),Z(X)}),window.addEventListener("modem-push",({detail:J})=>{Z(J)}),window.addEventListener("modem-replace",({detail:J})=>{Z(J)})},HV=(Z)=>{window.history.pushState({},"",PJ(Z)),window.requestAnimationFrame(()=>{if(Z.fragment[0])document.getElementById(Z.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:Z}))};var NV=(Z)=>{if(!Z||Z.tagName==="BODY")return null;else if(Z.tagName==="A")return Z;else return NV(Z.parentElement)},$9=(Z)=>{return new d(Z.protocol?new L(Z.protocol.slice(0,-1)):new g,new g,Z.hostname?new L(Z.hostname):new g,Z.port?new L(Number(Z.port)):new g,Z.pathname,Z.search?new L(Z.search.slice(1)):new g,Z.hash?new L(Z.hash.slice(1)):new g)};function BV(Z){return aW((W)=>{return V8(!B0(),void 0,()=>{return u9((J)=>{let X=Z(J);return W(X)})})})}function DV(Z){if(Z==="")return new g;else return new L(Z)}var $J=new d(new g,new g,new g,new g,"",new g,new g);function mJ(Z,W,J){return aW((K)=>{return V8(!B0(),void 0,()=>{return HV(new d($J.scheme,$J.userinfo,$J.host,$J.port,Z,U6(W,DV),U6(J,DV)))})})}class PV extends I{constructor(Z,W){super();this.query=Z,this.module_path=W}}class c9 extends I{constructor(Z){super();this.queries=Z}}function RV(){return new c9(MZ())}function vW(Z,W,J,K){let X=new PV(J,K);return new c9(OZ(Z.queries,W,X))}function p9(Z,W){return r(Z.queries,W)}class uJ extends I{}class cJ extends I{}class jV extends I{}class OV extends I{}class TV extends I{}class AV extends I{}class SV extends I{}class CV extends I{}class qV extends I{}class s9 extends I{}class pJ extends I{}function wV(Z){if(Z instanceof uJ)return"GET";else if(Z instanceof cJ)return"POST";else if(Z instanceof jV)return"HEAD";else if(Z instanceof OV)return"PUT";else if(Z instanceof TV)return"DELETE";else if(Z instanceof AV)return"TRACE";else if(Z instanceof SV)return"CONNECT";else if(Z instanceof CV)return"OPTIONS";else if(Z instanceof qV)return"PATCH";else return Z[0]}function LV(Z){if(Z instanceof s9)return"http";else return"https"}function EV(Z){let W=FW(Z);if(W==="http")return new H(new s9);else if(W==="https")return new H(new pJ);else return new q(void 0)}class u8 extends I{constructor(Z,W,J,K,X,V,Q,G){super();this.method=Z,this.headers=W,this.body=J,this.scheme=K,this.host=X,this.port=V,this.path=Q,this.query=G}}function kV(Z){return new d(new L(LV(Z.scheme)),new g,new L(Z.host),Z.port,Z.path,Z.query,new g)}function N5(Z){return rZ((()=>{let W=Z.scheme,J=gK(W,"");return EV(J)})(),(W)=>{return rZ((()=>{let J=Z.host;return M6(J,void 0)})(),(J)=>{let K=new u8(new uJ,Y([]),"",W,J,Z.port,Z.path,Z.query);return new H(K)})})}function r9(Z,W,J){let K=w6(Z.headers,FW(W),J);return new u8(Z.method,K,Z.body,Z.scheme,Z.host,Z.port,Z.path,Z.query)}function fV(Z,W){return new u8(Z.method,Z.headers,W,Z.scheme,Z.host,Z.port,Z.path,Z.query)}function yV(Z,W){return new u8(W,Z.headers,Z.body,Z.scheme,Z.host,Z.port,Z.path,Z.query)}function bV(Z){let J=h6(Z);return rZ(J,N5)}class dJ extends I{constructor(Z,W,J){super();this.status=Z,this.headers=W,this.body=J}}class _0{constructor(Z){this.promise=Z}static wrap(Z){return Z instanceof Promise?new _0(Z):Z}static unwrap(Z){return Z instanceof _0?Z.promise:Z}}function _W(Z){return Promise.resolve(_0.wrap(Z))}function sJ(Z,W){return Z.then((J)=>W(_0.unwrap(J)))}function rJ(Z,W){return Z.then((J)=>_0.wrap(W(_0.unwrap(J))))}function l9(Z){return new dJ(Z.status,LZ.fromArray([...Z.headers]),Z)}function R5(Z){let W=PJ(kV(Z)),J=wV(Z.method).toUpperCase(),K={headers:j5(Z.headers),method:J};return[W,K]}function a9(Z){let[W,J]=R5(Z);if(J.method!=="GET"&&J.method!=="HEAD")J.body=Z.body;return new globalThis.Request(W,J)}function j5(Z){let W=new globalThis.Headers;for(let[J,K]of Z)W.append(J.toLowerCase(),K);return W}async function nJ(Z){let W;try{W=await Z.body.text()}catch(J){return new q(new o9)}return new H(Z.withFields({body:W}))}class iJ extends I{constructor(Z){super();this[0]=Z}}class o9 extends I{}class gV extends I{constructor(Z,W){super();this.endpoint=Z,this.headers=W}}function t9(Z,W){return new gV(Z,W)}function zW(Z,W,J){let K=h(Y([["query",a(W)],["variables",J]]));return rZ((()=>{let X=bV(Z.endpoint);return Z8(X,(V)=>{return"Invalid endpoint URL"})})(),(X)=>{let V,G=yV(X,new cJ),F=fV(G,nW(K));V=r9(F,"content-type","application/json");let M=V,U=UZ(Z.headers,M,(z,D)=>{return r9(z,D[0],D[1])});return new H(U)})}function wZ(Z,W){return rZ((()=>{let J=xW(Z,NZ);return Z8(J,(K)=>{return"Failed to decode JSON response"})})(),(J)=>{let K=$("data",W,(V)=>{return t(V)}),X=s(J,K);return Z8(X,(V)=>{return"Failed to decode response data: "+DX(V)+". Response body: "+Z})})}async function e9(Z){try{let W=a9(Z),J=new Request(W,{credentials:"include"}),K=await fetch(J),X=l9(K);return new H(X)}catch(W){return new q(new iJ(W.toString()))}}var mV="src/squall_cache.gleam";class AW extends I{}class SW extends I{constructor(Z){super();this[0]=Z}}class CW extends I{constructor(Z){super();this[0]=Z}}class lJ extends I{}class uV extends I{}class ZK extends I{}class p8 extends I{constructor(Z,W,J){super();this.data=Z,this.timestamp=W,this.status=J}}class oZ extends I{constructor(Z,W,J,K,X,V,Q,G){super();this.entities=Z,this.optimistic_entities=W,this.optimistic_mutations=J,this.queries=K,this.pending_fetches=X,this.get_headers=V,this.mutation_counter=Q,this.endpoint=G}}function cV(Z){return new oZ(MZ(),MZ(),MZ(),MZ(),w8(),()=>{return Y([])},0,Z)}function aJ(Z,W){return Z+":"+nW(W)}function hV(Z){let W=FJ(Z);if(W instanceof H){let J=W[0][0],K=W[0][1];return MJ(J)+K}else return Z}function WK(Z){let J=l(Z),K=C6(J,(X)=>{if(X==="data")return new q(void 0);else if(X==="results")return new q(void 0);else if(X==="edges")return new q(void 0);else if(X==="node")return new q(void 0);else if(UJ(X,"s")){let Q=GJ(X),G=NX(X,0,Q-1);return new H(hV(G))}else return new H(hV(X))});return W8(K,"Entity")}function C5(Z){if(r(Z,"node")instanceof H)return!0;else return!1}function q5(Z){let W=s(Z,PW(NZ));if(W instanceof H){let J=W[0];if(J instanceof T)return!1;else{let K=J.head,X=s(K,rW(c,NZ));if(X instanceof H){let V=X[0];return C5(V)}else return!1}}else return!1}function w5(Z,W,J){let K=aJ(W,J),X=r(Z.queries,K);if(X instanceof H){let V=X[0],Q=new p8(V.data,V.timestamp,new ZK),G=OZ(Z.queries,K,Q);return new oZ(Z.entities,Z.optimistic_entities,Z.optimistic_mutations,G,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}else{let V=new p8("",0,new ZK),Q=OZ(Z.queries,K,V);return new oZ(Z.entities,Z.optimistic_entities,Z.optimistic_mutations,Q,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}}function R0(Z,W,J){let K=aJ(W,J),X=dW(Z.queries,K);return new oZ(Z.entities,Z.optimistic_entities,Z.optimistic_mutations,X,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}function L5(Z,W,J,K){let X,V=r(Z.optimistic_entities,J);if(V instanceof H){let F=V[0];X=new L(F)}else{let F=r(Z.entities,J);if(F instanceof H){let M=F[0];X=new L(M)}else X=new g}let G=K(X);return new oZ(Z.entities,OZ(Z.optimistic_entities,J,G),OZ(Z.optimistic_mutations,W,J),Z.queries,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}function pV(Z,W){let J=r(Z.optimistic_mutations,W);if(J instanceof H){let K=J[0];return new oZ(Z.entities,dW(Z.optimistic_entities,K),dW(Z.optimistic_mutations,W),Z.queries,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}else return Z}function dV(Z){return!S6(Z.optimistic_mutations)}function D8(Z){let W=s(Z,rW(c,NZ));if(W instanceof H){let K=W[0],X=U0(K),V=HZ(X,(Q)=>{let G,F;return G=Q[0],F=Q[1],[G,D8(F)]});return h(V)}else{let J=s(Z,PW(NZ));if(J instanceof H){let K=J[0];return kW(K,D8)}else{let K=s(Z,c);if(K instanceof H){let X=K[0];return a(X)}else{let X=s(Z,mZ);if(X instanceof H){let V=X[0];return WW(V)}else{let V=s(Z,eK);if(V instanceof H){let Q=V[0];return LX(Q)}else{let Q=s(Z,BW);if(Q instanceof H){let G=Q[0];return iW(G)}else return DJ()}}}}}}function E5(Z,W){let J=nW(Z),K=nW(W),X=xW(J,NZ),V=xW(K,NZ);if(X instanceof H&&V instanceof H){let Q=X[0],G=V[0],F=s(Q,rW(c,NZ)),M=s(G,rW(c,NZ));if(F instanceof H&&M instanceof H){let U=F[0],z=M[0],D,O=SZ(pW(U),pW(z));D=rK(O);let C=l0(D,(j)=>{let E,A=r(z,j);if(A instanceof H)E=A;else E=r(U,j);let k=E;if(k instanceof H){let b=k[0];return new H([j,D8(b)])}else return new q(void 0)});return h(C)}else return W}else return W}function Q0(Z,W){return n0(W,Z,(J,K,X)=>{let V=r(J,K);if(V instanceof H){let Q=V[0],G=E5(Q,X);return OZ(J,K,G)}else return OZ(J,K,X)})}function vV(Z){let W=IJ(Z,":");if(W instanceof H){let J=W[0][0],K=W[0][1],X=xW(K,NZ);if(X instanceof H){let V=X[0];return new H([J,D8(V)])}else return new H([J,DJ()])}else return new q(void 0)}function x5(Z,W,J,K,X,V,Q){let G=p9(W,J);if(G instanceof H){let F=G[0];return aW((M)=>{let U=Z.get_headers(),z=t9(Z.endpoint,U),D=zW(z,F.query,K),O;if(D instanceof H)O=D[0];else throw F0("let_assert",mV,"squall_cache",685,"create_mutation_effect","Pattern match failed, no pattern matched the value.",{value:D,start:23172,end:23246,pattern_start:23183,pattern_end:23190});let R,C=e9(O);R=rJ(C,(E)=>{if(E instanceof H){let A=E[0],k=nJ(A);return sJ(k,(b)=>{if(b instanceof H){let B=b[0],S=V(B.body);if(S instanceof H){let y=S[0];return M(Q(X,new H(y),B.body)),_W(void 0)}else{let y=S[0];return M(Q(X,new q("Parse error: "+y),B.body)),_W(void 0)}}else return M(Q(X,new q("Failed to read response"),"")),_W(void 0)})}else return M(Q(X,new q("Failed to fetch"),"")),_W(void 0)});let j=R;return})}else return aW((F)=>{F(Q(X,new q("Query not found in registry"),""));return})}function sV(Z,W,J,K,X,V,Q,G){let F="mutation-"+qZ(Z.mutation_counter),M=L5(Z,F,X,V),U=new oZ(M.entities,M.optimistic_entities,M.optimistic_mutations,M.queries,M.pending_fetches,M.get_headers,Z.mutation_counter+1,M.endpoint),z=x5(U,W,J,K,F,Q,G);return[U,F,z]}function k5(Z,W,J,K,X){return aW((V)=>{let Q=Z.get_headers(),G=t9(Z.endpoint,Q),F=zW(G,W,K),M;if(F instanceof H)M=F[0];else throw F0("let_assert",mV,"squall_cache",974,"create_fetch_effect","Pattern match failed, no pattern matched the value.",{value:F,start:32602,end:32671,pattern_start:32613,pattern_end:32620});let U,z=e9(M);U=rJ(z,(O)=>{if(O instanceof H){let R=O[0],C=nJ(R);return sJ(C,(j)=>{if(j instanceof H){let E=j[0];return V(X(J,K,new H(E.body))),_W(void 0)}else return V(X(J,K,new q("Failed to read response"))),_W(void 0)})}else return V(X(J,K,new q("Failed to fetch"))),_W(void 0)});let D=U;return})}function qW(Z,W,J,K){let X=vX(Z.pending_fetches),V=l0(X,(F)=>{let M=vV(F);if(M instanceof H){let U=M[0][0],z=M[0][1],D=p9(W,U);if(D instanceof H){let O=D[0];return new H(k5(Z,O.query,U,z,J))}else return new q(void 0)}else return new q(void 0)}),Q=UZ(X,Z,(F,M)=>{let U=vV(M);if(U instanceof H){let z=U[0][0],D=U[0][1];return w5(F,z,D)}else return F});return[new oZ(Q.entities,Q.optimistic_entities,Q.optimistic_mutations,Q.queries,w8(),Q.get_headers,Q.mutation_counter,Q.endpoint),V]}function _V(Z,W,J){let K=U0(Z),X=HZ(K,(V)=>{let Q,G;return Q=V[0],G=V[1],[Q,JK(G,W,J)]});return h(X)}function JK(Z,W,J){let K=s(Z,rW(c,NZ));if(K instanceof H){let X=K[0],V=r(X,"__ref");if(V instanceof H){let Q=V[0],G=s(Q,c);if(G instanceof H){let F=G[0],M=r(W,F);if(M instanceof H)return M[0];else{let U=r(J,F);if(U instanceof H)return U[0];else return h(Y([["__ref",a(F)]]))}}else return _V(X,W,J)}else return _V(X,W,J)}else{let X=s(Z,PW(NZ));if(X instanceof H){let V=X[0];return kW(V,(Q)=>{return JK(Q,W,J)})}else return D8(Z)}}function $V(Z,W,J){let K=xW(Z,NZ);if(K instanceof H){let X=K[0],V=JK(X,W,J);return nW(V)}else return Z}function e(Z,W,J,K){let X=aJ(W,J),V=r(Z.queries,X);if(V instanceof H){let Q=V[0],G=Q.status;if(G instanceof lJ){let F=$V(Q.data,Z.optimistic_entities,Z.entities),M=K(F);if(M instanceof H){let U=M[0];return[Z,new CW(U)]}else{let U=M[0];return[Z,new SW("Parse error: "+U)]}}else if(G instanceof uV){let F=$V(Q.data,Z.optimistic_entities,Z.entities),M=K(F);if(M instanceof H){let U=M[0];return[Z,new CW(U)]}else{let U=M[0];return[Z,new SW("Parse error: "+U)]}}else return[Z,new AW]}else return[new oZ(Z.entities,Z.optimistic_entities,Z.optimistic_mutations,Z.queries,$6(Z.pending_fetches,X),Z.get_headers,Z.mutation_counter,Z.endpoint),new AW]}function f5(Z,W){let J=UZ(Z,[MZ(),Y([]),w8()],(V,Q)=>{let G,F,M;G=V[0],F=V[1],M=V[2];let U=s(Q,rW(c,NZ));if(U instanceof H){let z=U[0],D=r(z,"node");if(D instanceof H){let O=D[0],R,C=s(O,rW(c,NZ));if(C instanceof H){let E=C[0],A=r(E,"id");if(A instanceof H){let k=A[0],b=s(k,c);if(b instanceof H){let B=b[0],S,y=r(E,"__typename");if(y instanceof H){let _=y[0],u=s(_,c);if(u instanceof H)S=u[0];else S="Node"}else S=WK(SZ(W,Y(["node"])));R=new L(S+":"+B)}else R=new g}else R=new g}else R=new g;let j=R;if(j instanceof L){let E=j[0];if(hX(M,E))return V;else{let k=c8(z,W),b,B;return b=k[0],B=k[1],[Q0(G,b),SZ(F,Y([B])),$6(M,E)]}}else{let E=c8(z,W),A,k;return A=E[0],k=E[1],[Q0(G,A),SZ(F,Y([k])),M]}}else{let O=c8(z,W),R,C;return R=O[0],C=O[1],[Q0(G,R),SZ(F,Y([C])),M]}}else{let z=d8(Q,W),D,O;return D=z[0],O=z[1],[Q0(G,D),SZ(F,Y([O])),M]}}),K,X;return K=J[0],X=J[1],[K,kW(X,(V)=>{return V})]}function d8(Z,W){let J=s(Z,rW(c,NZ));if(J instanceof H){let K=J[0],X=r(K,"id");if(X instanceof H){let V=X[0],Q=s(V,c);if(Q instanceof H){let G=Q[0],F,M=r(K,"__typename");if(M instanceof H){let b=M[0],B=s(b,c);if(B instanceof H)F=B[0];else F=WK(W)}else F=WK(W);let z=F+":"+G,D,O=U0(K);D=HZ(O,(b)=>{let B,S;B=b[0],S=b[1];let y=SZ(W,Y([B])),v=d8(S,y),_,u;return _=v[0],u=v[1],[B,_,u]});let R=D,C=UZ(R,MZ(),(b,B)=>{let S;return S=B[1],Q0(b,S)}),j,E=HZ(R,(b)=>{let B,S;return B=b[0],S=b[2],[B,S]});return j=h(E),[OZ(C,z,j),h(Y([["__ref",a(z)]]))]}else return c8(K,W)}else return c8(K,W)}else{let K=s(Z,PW(NZ));if(K instanceof H){let X=K[0];if(q5(Z))return f5(X,W);else{let Q=HZ(X,(M)=>{return d8(M,W)}),G=UZ(Q,MZ(),(M,U)=>{let z;return z=U[0],Q0(M,z)}),F=HZ(Q,(M)=>{let U;return U=M[1],U});return[G,kW(F,(M)=>{return M})]}}else return[MZ(),D8(Z)]}}function rV(Z){return d8(Z,Y([]))}function nV(Z,W,J,K,X){let V=aJ(W,J),Q=xW(K,NZ);if(Q instanceof H){let G=Q[0],F=rV(G),M,U;M=F[0],U=F[1];let z=Q0(Z.entities,M),D=nW(U),O=new p8(D,X,new lJ),R=OZ(Z.queries,V,O);return new oZ(z,Z.optimistic_entities,Z.optimistic_mutations,R,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}else{let G=new p8(K,X,new lJ),F=OZ(Z.queries,V,G);return new oZ(Z.entities,Z.optimistic_entities,Z.optimistic_mutations,F,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}}function c8(Z,W){let J,K=U0(Z);J=HZ(K,(M)=>{let U,z;U=M[0],z=M[1];let D=SZ(W,Y([U])),O=d8(z,D),R,C;return R=O[0],C=O[1],[U,R,C]});let X=J,V=UZ(X,MZ(),(M,U)=>{let z;return z=U[1],Q0(M,z)}),Q,G=HZ(X,(M)=>{let U,z;return U=M[0],z=M[2],[U,z]});return Q=h(G),[V,Q]}function iV(Z,W,J){let K=r(Z.optimistic_mutations,W);if(K instanceof H){let X=K[0],V=xW(J,NZ);if(V instanceof H){let Q=V[0],G=rV(Q),F;F=G[0];let M=Q0(Z.entities,F);return new oZ(M,dW(Z.optimistic_entities,X),dW(Z.optimistic_mutations,W),Z.queries,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}else return new oZ(Z.entities,dW(Z.optimistic_entities,X),dW(Z.optimistic_mutations,W),Z.queries,Z.pending_fetches,Z.get_headers,Z.mutation_counter,Z.endpoint)}else return Z}var $0="http://www.w3.org/2000/svg";function oJ(Z){return K0($0,"ellipse",Z,m)}function s8(Z){return K0($0,"rect",Z,m)}function lV(Z,W){return K0($0,"defs",Z,W)}function r8(Z,W){return K0($0,"g",Z,W)}function tJ(Z,W){return K0($0,"svg",Z,W)}function KK(Z,W){return K0($0,"linearGradient",Z,W)}function n8(Z){return K0($0,"stop",Z,m)}function oV(Z){return tJ(Y([w("viewBox","0 0 60 60"),w("xmlns","http://www.w3.org/2000/svg"),N(Z)]),Y([lV(Y([]),Y([KK(Y([x8("board1"),w("x1","0%"),w("y1","0%"),w("x2","100%"),w("y2","100%")]),Y([n8(Y([w("offset","0%"),w("stop-color","#FF6347"),w("stop-opacity","1")])),n8(Y([w("offset","100%"),w("stop-color","#FF4500"),w("stop-opacity","1")]))])),KK(Y([x8("board2"),w("x1","0%"),w("y1","0%"),w("x2","100%"),w("y2","100%")]),Y([n8(Y([w("offset","0%"),w("stop-color","#00CED1"),w("stop-opacity","1")])),n8(Y([w("offset","100%"),w("stop-color","#4682B4"),w("stop-opacity","1")]))]))])),r8(Y([w("transform","translate(30, 30)")]),Y([oJ(Y([w("cx","0"),w("cy","-8"),w("rx","15"),w("ry","6"),w("fill","url(#board1)")])),oJ(Y([w("cx","0"),w("cy","0"),w("rx","18"),w("ry","6"),w("fill","url(#board2)")])),oJ(Y([w("cx","0"),w("cy","8"),w("rx","12"),w("ry","6"),w("fill","#32CD32")]))]))]))}function tV(Z){return f(Y([N("border-b border-zinc-800 pb-4 mb-8")]),Y([f(Y([N("flex items-end justify-between")]),Y([y0(Y([L0("/"),N("flex items-center gap-3 hover:opacity-80 transition-opacity")]),Y([oV("w-10 h-10"),f(Y([]),Y([f0(Y([N("text-xs font-medium uppercase tracking-wider text-zinc-500")]),Y([x("quickslice")]))]))])),f(Y([N("flex gap-4 text-xs items-center")]),(()=>{if(Z instanceof L){let W=Z[0][0],J=Z[0][1],K=Y([y0(Y([L0("/"),N("px-3 py-1 text-zinc-400 hover:text-zinc-300 transition-colors")]),Y([x("Home")]))]),X;if(J)X=SZ(K,Y([y0(Y([L0("/settings"),N("px-3 py-1 text-zinc-400 hover:text-zinc-300 transition-colors")]),Y([x("Settings")]))]));else X=K;return SZ(X,Y([IZ(Y([N("px-3 py-1 text-zinc-400")]),Y([x(W)])),H9(Y([a6("POST"),l6("/logout")]),Y([dZ(Y([bW("submit"),N("px-3 py-1 text-zinc-400 hover:text-zinc-300 transition-colors cursor-pointer")]),Y([x("Logout")]))]))]))}else return Y([H9(Y([a6("POST"),l6("/oauth/authorize"),N("flex gap-2 items-center")]),Y([z8(Y([bW("text"),oX("login_hint"),f8("handle.bsky.social"),N("bg-zinc-900 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 placeholder-zinc-600 focus:border-zinc-500 focus:outline-none w-48"),tX(!0)])),dZ(Y([bW("submit"),N("bg-zinc-800 hover:bg-zinc-700 text-zinc-300 px-3 py-1 rounded transition-colors")]),Y([x("Login")]))]))])})())]))]))}function XK(Z,W){console.log("[readFileAsBase64] Called with fileInputId:",Z);let J=document.getElementById(Z);if(!J){console.log("[readFileAsBase64] File input not found"),W(new q("File input not found"));return}console.log("[readFileAsBase64] Input element:",J),console.log("[readFileAsBase64] Input files:",J.files);let K=J.files?.[0];if(!K){console.log("[readFileAsBase64] No file selected"),W(new q("No file selected"));return}console.log("[readFileAsBase64] Reading file:",K.name);let X=new FileReader;X.onload=(V)=>{try{let Q=V.target.result.split(",")[1];W(new H(Q))}catch(Q){W(new q(`Failed to encode file: ${Q.message}`))}},X.onerror=()=>{W(new q("Failed to read file"))},X.readAsDataURL(K)}function VK(Z){let W=document.getElementById(Z);if(W)W.value=""}function eV(){let Z=RV(),W=vW(Z,"TriggerBackfill",`mutation TriggerBackfill {
  triggerBackfill
}`,"generated/queries/trigger_backfill"),J=vW(W,"GetCurrentSession",`query GetCurrentSession {
  currentSession {
    __typename
    did
    handle
    isAdmin
  }
}`,"generated/queries/get_current_session"),K=vW(J,"GetActivityBuckets",`query GetActivityBuckets($range: TimeRange!) {
  activityBuckets(range: $range) {
    __typename
    timestamp
    total
    creates
    updates
    deletes
  }
}`,"generated/queries/get_activity_buckets"),X=vW(K,"GetRecentActivity",`query GetRecentActivity($hours: Int!) {
  recentActivity(hours: $hours) {
    __typename
    id
    timestamp
    operation
    collection
    did
    status
    errorMessage
    eventJson
  }
}`,"generated/queries/get_recent_activity"),V=vW(X,"GetStatistics",`query GetStatistics {
  statistics {
    __typename
    recordCount
    actorCount
    lexiconCount
  }
}`,"generated/queries/get_statistics"),Q=vW(V,"GetSettings",`query GetSettings {
  settings {
    __typename
    id
    domainAuthority
    oauthClientId
  }
}`,"generated/queries/get_settings"),G=vW(Q,"UpdateDomainAuthority",`mutation UpdateDomainAuthority($domainAuthority: String!) {
  updateDomainAuthority(domainAuthority: $domainAuthority) {
    __typename
    id
    domainAuthority
    oauthClientId
  }
}`,"generated/queries/update_domain_authority"),F=vW(G,"UploadLexicons",`mutation UploadLexicons($zipBase64: String!) {
  uploadLexicons(zipBase64: $zipBase64)
}`,"generated/queries/upload_lexicons");return vW(F,"ResetAll",`mutation ResetAll($confirm: String!) {
  resetAll(confirm: $confirm)
}`,"generated/queries/reset_all")}class i8 extends I{}class l8 extends I{}class a8 extends I{}class m0 extends I{}class o8 extends I{}class ZQ extends I{constructor(Z,W,J,K,X){super();this.timestamp=Z,this.total=W,this.creates=J,this.updates=K,this.deletes=X}}class WQ extends I{constructor(Z){super();this.activity_buckets=Z}}function P8(Z){if(Z instanceof i8)return"ONE_HOUR";else if(Z instanceof l8)return"THREE_HOURS";else if(Z instanceof a8)return"SIX_HOURS";else if(Z instanceof m0)return"ONE_DAY";else return"SEVEN_DAYS"}function v5(){return $("timestamp",c,(Z)=>{return $("total",mZ,(W)=>{return $("creates",mZ,(J)=>{return $("updates",mZ,(K)=>{return $("deletes",mZ,(X)=>{return t(new ZQ(Z,W,J,K,X))})})})})})}function _5(){return $("activityBuckets",PW(v5()),(Z)=>{return t(new WQ(Z))})}function R8(Z){return wZ(Z,_5())}class JQ extends I{constructor(Z,W,J){super();this.did=Z,this.handle=W,this.is_admin=J}}class KQ extends I{constructor(Z){super();this.current_session=Z}}function $5(){return $("did",c,(Z)=>{return $("handle",c,(W)=>{return $("isAdmin",BW,(J)=>{return t(new JQ(Z,W,J))})})})}function m5(){return $("currentSession",sW($5()),(Z)=>{return t(new KQ(Z))})}function YK(Z){return wZ(Z,m5())}class XQ extends I{constructor(Z,W,J,K,X,V,Q,G){super();this.id=Z,this.timestamp=W,this.operation=J,this.collection=K,this.did=X,this.status=V,this.error_message=Q,this.event_json=G}}class VQ extends I{constructor(Z){super();this.recent_activity=Z}}function c5(){return $("id",mZ,(Z)=>{return $("timestamp",c,(W)=>{return $("operation",c,(J)=>{return $("collection",c,(K)=>{return $("did",c,(X)=>{return $("status",c,(V)=>{return $("errorMessage",sW(c),(Q)=>{return $("eventJson",sW(c),(G)=>{return t(new XQ(Z,W,J,K,X,V,Q,G))})})})})})})})})}function p5(){return $("recentActivity",PW(c5()),(Z)=>{return t(new VQ(Z))})}function t8(Z){return wZ(Z,p5())}class YQ extends I{constructor(Z,W,J){super();this.id=Z,this.domain_authority=W,this.oauth_client_id=J}}class GQ extends I{constructor(Z){super();this.settings=Z}}function d5(){return $("id",c,(Z)=>{return $("domainAuthority",c,(W)=>{return $("oauthClientId",sW(c),(J)=>{return t(new YQ(Z,W,J))})})})}function s5(){return $("settings",d5(),(Z)=>{return t(new GQ(Z))})}function XW(Z){return wZ(Z,s5())}class FQ extends I{constructor(Z,W,J){super();this.record_count=Z,this.actor_count=W,this.lexicon_count=J}}class MQ extends I{constructor(Z){super();this.statistics=Z}}function r5(){return $("recordCount",mZ,(Z)=>{return $("actorCount",mZ,(W)=>{return $("lexiconCount",mZ,(J)=>{return t(new FQ(Z,W,J))})})})}function n5(){return $("statistics",r5(),(Z)=>{return t(new MQ(Z))})}function u0(Z){return wZ(Z,n5())}class UQ extends I{constructor(Z){super();this.reset_all=Z}}function i5(){return $("resetAll",BW,(Z)=>{return t(new UQ(Z))})}function IQ(Z){return wZ(Z,i5())}class zQ extends I{constructor(Z){super();this.trigger_backfill=Z}}function a5(){return $("triggerBackfill",BW,(Z)=>{return t(new zQ(Z))})}function HQ(Z){return wZ(Z,a5())}class NQ extends I{constructor(Z,W,J){super();this.id=Z,this.domain_authority=W,this.oauth_client_id=J}}class DQ extends I{constructor(Z){super();this.update_domain_authority=Z}}function t5(){return $("id",c,(Z)=>{return $("domainAuthority",c,(W)=>{return $("oauthClientId",sW(c),(J)=>{return t(new NQ(Z,W,J))})})})}function e5(){return $("updateDomainAuthority",t5(),(Z)=>{return t(new DQ(Z))})}function BQ(Z){return wZ(Z,e5())}class PQ extends I{constructor(Z){super();this.upload_lexicons=Z}}function W4(){return $("uploadLexicons",BW,(Z)=>{return t(new PQ(Z))})}function RQ(Z){return wZ(Z,W4())}function MK(Z){globalThis.location.href=Z}function jQ(Z,W){return nX(Z,C8(W,(J)=>{return new E8(!1,!1,J)}),m,n6,n6,0,0)}function HW(Z){return jQ("click",t(Z))}function eJ(Z){return jQ("input",x6(Y(["target","value"]),c,(W)=>{return t(Z(W))}))}function X4(Z,W){let J=(K)=>{let X="px-3 py-1 text-xs rounded transition-colors cursor-pointer";if(GZ(K,Z))return X+" bg-zinc-700 text-zinc-100";else return X+" bg-zinc-800/50 text-zinc-400 hover:bg-zinc-700/50 hover:text-zinc-300"};return f(Y([N("flex gap-2 mb-4")]),Y([dZ(Y([N(J(new i8)),HW(W(new i8))]),Y([x("1hr")])),dZ(Y([N(J(new l8)),HW(W(new l8))]),Y([x("3hr")])),dZ(Y([N(J(new a8)),HW(W(new a8))]),Y([x("6hr")])),dZ(Y([N(J(new m0)),HW(W(new m0))]),Y([x("1 day")])),dZ(Y([N(J(new o8)),HW(W(new o8))]),Y([x("7 day")]))]))}function V4(Z){let J=HZ(Z,(X)=>{return X.creates+X.updates+X.deletes}),K=iK(J,zJ);return W8(K,1)}function Q4(Z,W,J,K,X,V){let Q=n(W)*(J+K);if(Z.creates+Z.updates+Z.deletes===0){let F=4,M=X-F;return r8(Y([]),Y([s8(Y([w("x",BZ(Q)),w("y",BZ(M)),w("width",BZ(J)),w("height",BZ(F)),w("style","fill: #3f3f46 !important; stroke: none; display: inline")]))]))}else{let F=JJ(X,n(V)),M=n(Z.deletes)*F,U=n(Z.updates)*F,z=n(Z.creates)*F,D=X-M,O=D-U,R=O-z;return r8(Y([N("group")]),Y([(()=>{if(Z.deletes>0)return s8(Y([w("x",BZ(Q)),w("y",BZ(D)),w("width",BZ(J)),w("height",BZ(M)),w("style","fill: #ef4444 !important; stroke: none; display: inline; cursor: pointer; transition: opacity 0.2s"),N("group-hover:opacity-80")]));else return cZ()})(),(()=>{if(Z.updates>0)return s8(Y([w("x",BZ(Q)),w("y",BZ(O)),w("width",BZ(J)),w("height",BZ(U)),w("style","fill: #60a5fa !important; stroke: none; display: inline; cursor: pointer; transition: opacity 0.2s"),N("group-hover:opacity-80")]));else return cZ()})(),(()=>{if(Z.creates>0)return s8(Y([w("x",BZ(Q)),w("y",BZ(R)),w("width",BZ(J)),w("height",BZ(z)),w("style","fill: #22c55e !important; stroke: none; display: inline; cursor: pointer; transition: opacity 0.2s"),N("group-hover:opacity-80")]));else return cZ()})()]))}}function Y4(Z,W){let J=V4(Z),K;if(W instanceof o8)K=[160,12];else K=[30,4];let X=K,V,Q;V=X[0],Q=X[1];let G=S8(Z),F=n(G)*V+n(G-1)*Q,M=120;return f(Y([N("w-full")]),Y([tJ(Y([w("viewBox","0 0 "+BZ(F)+" "+BZ(M)),w("width","100%"),w("height",BZ(M)),w("style","min-height: 120px"),w("preserveAspectRatio","none")]),dK(Z,(U,z)=>{return Q4(U,z,V,Q,M,J)}))]))}function G4(Z,W){let J=h(Y([["range",a(P8(W))]])),K=e(Z,"GetActivityBuckets",J,R8),X;if(X=K[1],X instanceof AW)return f(Y([N("py-8 text-center text-zinc-600 text-xs")]),Y([x("Loading activity data...")]));else if(X instanceof SW){let V=X[0];return f(Y([N("py-8 text-center text-red-400 text-xs")]),Y([x("Error: "+V)]))}else{let Q=X[0].activity_buckets;if(Q instanceof T)return f(Y([N("py-8 text-center text-zinc-600 text-xs")]),Y([x("No activity data available")]));else return Y4(Q,W)}}function OQ(Z,W,J){return f(Y([N("bg-zinc-800/50 rounded p-4 font-mono mb-8")]),Y([X4(W,J),G4(Z,W)]))}function IK(Z){try{return new Date(Z).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(W){return Z}}function zK(Z){try{return new Date(Z).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch(W){return Z}}function Z6(Z){if(typeof Z==="string")try{let W=JSON.parse(Z);return Z6(W)}catch(W){return Z}else if(Array.isArray(Z))return Z.map(Z6);else if(Z!==null&&typeof Z==="object"){let W={};for(let[J,K]of Object.entries(Z))W[J]=Z6(K);return W}return Z}function HK(Z){try{let W=JSON.parse(Z),J=Z6(W);return JSON.stringify(J,null,2)}catch(W){return Z}}function I4(Z){return f(Y([]),HZ(Z,(W)=>{let J,K=W.status;if(K==="success")J="text-green-500";else if(K==="validation_error")J="text-yellow-500";else if(K==="error")J="text-red-500";else if(K==="processing")J="text-blue-500";else J="text-zinc-500";let X=J,V,Q=W.status;if(Q==="success")V="✓";else if(Q==="validation_error")V="⚠";else if(Q==="error")V="✗";else if(Q==="processing")V="⋯";else V="•";let G=V,F,M=W.operation;if(M==="create")F="text-green-400";else if(M==="update")F="text-blue-400";else if(M==="delete")F="text-red-400";else F="text-zinc-400";let U=F,z="activity-"+qZ(W.id);return f(Y([N("border-l-2 border-zinc-700/50 hover:border-zinc-600 transition-colors"),w("data-entry-id",z)]),Y([f(Y([N("flex items-start gap-2 py-1 text-xs font-mono hover:bg-zinc-900/30 cursor-pointer group"),w("onclick","this.parentElement.classList.toggle('expanded')")]),Y([IZ(Y([N("text-zinc-600 group-hover:text-zinc-400 shrink-0 select-none transition-transform caret"),w("data-caret","")]),Y([x("›")])),IZ(Y([N("text-zinc-600 shrink-0 w-16"),w("data-timestamp",W.timestamp)]),Y([x(IK(W.timestamp))])),IZ(Y([N(X+" shrink-0 w-4")]),Y([x(G)])),IZ(Y([N(U+" shrink-0 w-12")]),Y([x(W.operation)])),IZ(Y([N("text-purple-400 shrink-0")]),Y([x(W.collection)])),IZ(Y([N("text-zinc-500 truncate")]),Y([x(W.did)]))])),f(Y([N("px-6 py-2 text-xs bg-zinc-900/50 border-t border-zinc-800 hidden space-y-1"),w("data-details","")]),Y([f(Y([N("flex gap-2")]),Y([IZ(Y([N("text-zinc-600 w-20")]),Y([x("Timestamp:")])),IZ(Y([N("text-zinc-400")]),Y([x(zK(W.timestamp))]))])),f(Y([N("flex gap-2")]),Y([IZ(Y([N("text-zinc-600 w-20")]),Y([x("DID:")])),IZ(Y([N("text-zinc-400 font-mono break-all")]),Y([x(W.did)]))])),f(Y([N("flex gap-2")]),Y([IZ(Y([N("text-zinc-600 w-20")]),Y([x("Status:")])),IZ(Y([N((()=>{let D=W.status;if(D==="success")return"text-green-400";else if(D==="validation_error")return"text-yellow-400";else if(D==="error")return"text-red-400";else return"text-zinc-400"})())]),Y([x(W.status)]))])),(()=>{let D=W.error_message;if(D instanceof L){let O=D[0];return f(Y([N("flex gap-2")]),Y([IZ(Y([N("text-zinc-600 w-20")]),Y([x("Error:")])),IZ(Y([N("text-red-400")]),Y([x(O)]))]))}else return cZ()})(),(()=>{let D=W.event_json;if(D instanceof L){let O=D[0],R=HK(O);return f(Y([N("mt-2")]),Y([f(Y([N("text-zinc-600 mb-1")]),Y([x("Event JSON:")])),D7(Y([N("text-zinc-400 bg-black/40 p-2 rounded text-[10px] whitespace-pre-wrap block"),w("data-json",O)]),Y([x(R)]))]))}else return cZ()})()]))]))}))}function TQ(Z,W){let J=h(Y([["hours",WW(W)]])),K=e(Z,"GetRecentActivity",J,t8),X;return X=K[1],f(Y([N("font-mono mb-8")]),Y([bZ("style",Y([]),Y([x(`[data-entry-id].expanded [data-caret] { transform: rotate(90deg); }
          [data-entry-id].expanded [data-details] { display: block !important; }`)])),f(Y([N("bg-zinc-800/50 rounded p-4")]),Y([f(Y([N("flex items-center justify-between mb-3")]),Y([f(Y([N("text-sm text-zinc-500")]),Y([x("JetStream Activity")])),(()=>{if(X instanceof CW){let V=X[0];return IZ(Y([N("text-xs text-zinc-600")]),Y([x(qZ(S8(V.recent_activity))+" events ("+qZ(W)+"h)")]))}else return IZ(Y([N("text-xs text-zinc-600")]),Y([x("("+qZ(W)+"h)")]))})()])),f(Y([N("max-h-80 overflow-y-auto")]),Y([(()=>{if(X instanceof AW)return f(Y([N("py-8 text-center text-zinc-600 text-xs")]),Y([x("Loading activity...")]));else if(X instanceof SW){let V=X[0];return f(Y([N("py-8 text-center text-red-400 text-xs")]),Y([x("Error: "+V)]))}else{let Q=X[0].recent_activity;if(Q instanceof T)return f(Y([N("py-8 text-center text-zinc-600 text-xs")]),Y([x("No activity in the last "+qZ(W)+" hours")]));else return I4(Q)}})()]))]))]))}class e8 extends I{}class ZJ extends I{}class c0 extends I{}class NK extends I{}function AQ(Z,W){let J;if(Z instanceof e8)J=["bg-green-900/30","border-green-800","text-green-300","✓"];else if(Z instanceof ZJ)J=["bg-red-900/30","border-red-800","text-red-300","✗"];else if(Z instanceof c0)J=["bg-blue-900/30","border-blue-800","text-blue-300","ℹ"];else J=["bg-yellow-900/30","border-yellow-800","text-yellow-300","⚠"];let K=J,X,V,Q,G;return X=K[0],V=K[1],Q=K[2],G=K[3],f(Y([N("mb-6 p-4 rounded border "+X+" "+V)]),Y([f(Y([N("flex items-center gap-3")]),Y([IZ(Y([N("text-lg "+Q)]),Y([x(G)])),IZ(Y([N("text-sm "+Q)]),Y([x(W)]))]))]))}function DK(Z,W,J,K){let X;if(Z instanceof e8)X=["bg-green-900/30","border-green-800","text-green-300","✓"];else if(Z instanceof ZJ)X=["bg-red-900/30","border-red-800","text-red-300","✗"];else if(Z instanceof c0)X=["bg-blue-900/30","border-blue-800","text-blue-300","ℹ"];else X=["bg-yellow-900/30","border-yellow-800","text-yellow-300","⚠"];let V=X,Q,G,F,M;return Q=V[0],G=V[1],F=V[2],M=V[3],f(Y([N("mb-6 p-4 rounded border "+Q+" "+G)]),Y([f(Y([N("flex items-center gap-3")]),Y([IZ(Y([N("text-lg "+F)]),Y([x(M)])),IZ(Y([N("text-sm "+F)]),Y([x(W+" "),y0(Y([L0(K),N("underline hover:no-underline")]),Y([x(J)]))]))]))]))}var H4="font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-800 hover:bg-zinc-700 rounded transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-zinc-800";function W6(Z,W,J){return dZ(Y([bW("button"),N(H4),k8(Z),HW(W)]),Y([gW(J)]))}function WJ(Z){return new Intl.NumberFormat("en-US").format(Z)}function BK(Z,W){return f(Y([N("bg-zinc-800/50 rounded p-4")]),Y([f(Y([N("text-sm text-zinc-500 mb-1")]),Y([gW(Z)])),f(Y([N("text-2xl font-semibold text-zinc-200")]),Y([gW(W)]))]))}function PK(Z){return f(Y([N("bg-zinc-800/50 rounded p-4 animate-pulse")]),Y([f(Y([N("text-sm text-zinc-500 mb-1")]),Y([gW(Z)])),f(Y([N("h-8 bg-zinc-700 rounded w-24")]),Y([]))]))}function CQ(Z){let W=e(Z,"GetStatistics",h(Y([])),u0),J;if(J=W[1],J instanceof AW)return f(Y([N("mb-8 grid grid-cols-3 gap-4")]),Y([PK("Total Records"),PK("Total Actors"),PK("Total Lexicons")]));else if(J instanceof SW){let K=J[0];return f(Y([N("mb-8")]),Y([f(Y([N("bg-red-800/50 rounded p-4 text-red-200")]),Y([gW("Error loading statistics: "+K)]))]))}else{let X=J[0].statistics;return f(Y([N("mb-8 grid grid-cols-3 gap-4")]),Y([BK("Total Records",WJ(X.record_count)),BK("Total Actors",WJ(X.actor_count)),BK("Total Lexicons",WJ(X.lexicon_count))]))}}class J6 extends I{constructor(Z){super();this[0]=Z}}class K6 extends I{}class RK extends I{}function P4(Z,W){let J;if(Z==="")J=DK(new NK,"No domain authority configured.","Settings","/settings");else J=cZ();let K=J,X;if(W===0)X=DK(new c0,"No lexicons loaded.","Settings","/settings");else X=cZ();let V=X;return f(Y([]),Y([K,V]))}function qQ(Z,W,J,K){let X=e(Z,"GetStatistics",h(Y([])),u0),V;V=X[1];let Q=e(Z,"GetSettings",h(Y([])),XW),G;G=Q[1];let F;if(V instanceof CW&&G instanceof CW){let U=V[0],z=G[0];F=P4(z.settings.domain_authority,U.statistics.lexicon_count)}else F=cZ();let M=F;return f(Y([]),Y([M,f(Y([N("mb-8 flex gap-3")]),(()=>{if(K)return Y([W6(!1,new RK,"Open GraphiQL"),W6(J,new K6,(()=>{if(J)return"Backfilling...";else return"Trigger Backfill"})())]);else return Y([W6(!1,new RK,"Open GraphiQL")])})()),CQ(Z),OQ(Z,W,(U)=>{return new J6(U)}),TQ(Z,24)]))}class X6 extends I{constructor(Z){super();this[0]=Z}}class V6 extends I{}class Q6 extends I{}class Y6 extends I{}class G6 extends I{constructor(Z){super();this[0]=Z}}class wQ extends I{}class VW extends I{constructor(Z,W,J,K){super();this.domain_authority_input=Z,this.reset_confirmation=W,this.selected_file=J,this.alert=K}}function mW(Z,W,J){return new VW(Z.domain_authority_input,Z.reset_confirmation,Z.selected_file,new L([W,J]))}function LQ(Z){return new VW(Z.domain_authority_input,Z.reset_confirmation,Z.selected_file,new g)}function EQ(){return new VW("","",new g,new g)}function j4(Z){return dV(Z)}function O4(Z,W,J){return f(Y([N("bg-zinc-800/50 rounded p-6")]),Y([v8(Y([N("text-xl font-semibold text-zinc-300 mb-4")]),Y([x("Domain Authority")])),f(Y([N("space-y-4")]),Y([f(Y([N("mb-4")]),Y([kJ(Y([N("block text-sm text-zinc-400 mb-2")]),Y([x("Domain Authority")])),z8(Y([bW("text"),N("font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-900 border border-zinc-800 rounded focus:outline-none focus:border-zinc-700 w-full"),f8("e.g. com.example"),o6(W.domain_authority_input),eJ((K)=>{return new X6(K)})]))])),pZ(Y([N("text-sm text-zinc-500 mb-4")]),Y([x('The domain authority is used to determine which collections are considered "primary" vs "external" when backfilling records. For example, if the authority is "xyz.statusphere", then "xyz.statusphere.status" is treated as primary and "app.bsky.actor.profile" is external.')])),f(Y([N("flex gap-3")]),Y([dZ(Y([N((()=>{if(J)return"font-mono px-4 py-2 text-sm text-zinc-500 bg-zinc-800 rounded cursor-not-allowed";else return"font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-800 hover:bg-zinc-700 rounded transition-colors cursor-pointer"})()),k8(J),HW(new V6)]),Y([x((()=>{if(J)return"Saving...";else return"Save"})())]))]))]))]))}function T4(Z){return f(Y([N("bg-zinc-800/50 rounded p-6")]),Y([v8(Y([N("text-xl font-semibold text-zinc-300 mb-4")]),Y([x("OAuth Configuration")])),(()=>{let W=Z.oauth_client_id;if(W instanceof L){let J=W[0];return f(Y([N("space-y-3")]),Y([f(Y([N("flex items-center gap-2")]),Y([f(Y([N("w-2 h-2 bg-green-500 rounded-full")]),Y([])),pZ(Y([N("text-sm text-zinc-300")]),Y([x("OAuth client registered")]))])),f(Y([N("bg-zinc-900/50 rounded p-3")]),Y([pZ(Y([N("text-xs text-zinc-500 mb-1")]),Y([x("Client ID:")])),pZ(Y([N("text-sm text-zinc-300 font-mono")]),Y([x(J)]))])),pZ(Y([N("text-sm text-zinc-500")]),Y([x('OAuth client credentials are stored in the database. Use "Reset Everything" to clear and trigger re-registration.')]))]))}else return f(Y([N("space-y-3")]),Y([f(Y([N("flex items-center gap-2")]),Y([f(Y([N("w-2 h-2 bg-zinc-500 rounded-full")]),Y([])),pZ(Y([N("text-sm text-zinc-400")]),Y([x("OAuth client not registered")]))])),pZ(Y([N("text-sm text-zinc-500")]),Y([x("Set ENABLE_OAUTH_AUTO_REGISTER=true in your .env file to enable automatic OAuth client registration. The server will automatically register with your configured AIP server on startup.")]))]))})()]))}function A4(Z){return f(Y([N("bg-zinc-800/50 rounded p-6")]),Y([v8(Y([N("text-xl font-semibold text-zinc-300 mb-4")]),Y([x("Lexicons")])),f(Y([N("space-y-4")]),Y([f(Y([N("mb-4")]),Y([kJ(Y([N("block text-sm text-zinc-400 mb-2")]),Y([x("Upload Lexicons (ZIP)")])),z8(Y([bW("file"),aX(Y([".zip"])),N("font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-900 border border-zinc-800 rounded focus:outline-none focus:border-zinc-700 w-full"),x8("lexicon-file-input"),eJ((W)=>{return new Q6})]))])),pZ(Y([N("text-sm text-zinc-500 mb-4")]),Y([x("Upload a ZIP file containing lexicon JSON files. The ZIP file will be extracted and all .json files will be imported into the database. This replaces the need to manually place lexicons in the priv/lexicons directory.")])),f(Y([N("flex gap-3")]),Y([dZ(Y([N("font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-800 hover:bg-zinc-700 rounded transition-colors cursor-pointer"),HW(new Y6)]),Y([x("Upload")]))]))]))]))}function S4(Z){return f(Y([N("bg-zinc-800/50 rounded p-6")]),Y([v8(Y([N("text-xl font-semibold text-zinc-300 mb-4")]),Y([x("Danger Zone")])),pZ(Y([N("text-sm text-zinc-400 mb-4")]),Y([x("This will clear all indexed data:")])),B7(Y([N("text-sm text-zinc-400 mb-4 ml-4 list-disc")]),Y([I8(Y([]),Y([x("Domain authority configuration")])),I8(Y([]),Y([x("OAuth client credentials")])),I8(Y([]),Y([x("All lexicon definitions")])),I8(Y([]),Y([x("All indexed records")])),I8(Y([]),Y([x("All actors")]))])),pZ(Y([N("text-sm text-zinc-400 mb-4")]),Y([x("Records can be re-indexed via backfill.")])),f(Y([N("space-y-4")]),Y([f(Y([N("mb-4")]),Y([kJ(Y([N("block text-sm text-zinc-400 mb-2")]),Y([x("Type RESET to confirm")])),z8(Y([bW("text"),N("font-mono px-4 py-2 text-sm text-zinc-300 bg-zinc-900 border border-zinc-800 rounded focus:outline-none focus:border-zinc-700 w-full"),f8("RESET"),o6(Z.reset_confirmation),eJ((W)=>{return new G6(W)})]))])),f(Y([N("flex gap-3")]),Y([dZ(Y([N("font-mono px-4 py-2 text-sm text-red-400 border border-red-900 hover:bg-red-900/30 rounded transition-colors cursor-pointer"),k8(Z.reset_confirmation!=="RESET"),HW(new wQ)]),Y([x("Reset Everything")]))]))]))]))}function xQ(Z,W,J){if(J){let K=h(Y([])),X=e(Z,"GetSettings",K,XW),V;V=X[1];let Q=j4(Z);return f(Y([N("max-w-2xl space-y-6")]),Y([f0(Y([N("text-2xl font-semibold text-zinc-300 mb-8")]),Y([x("Settings")])),(()=>{let G=W.alert;if(G instanceof L){let F=G[0][0],M=G[0][1],U;if(F==="success")U=new e8;else if(F==="error")U=new ZJ;else U=new c0;return AQ(U,M)}else return cZ()})(),(()=>{if(V instanceof AW)return f(Y([N("py-8 text-center text-zinc-600 text-sm")]),Y([x("Loading settings...")]));else if(V instanceof SW){let G=V[0];return f(Y([N("py-8 text-center text-red-400 text-sm")]),Y([x("Error: "+G)]))}else{let G=V[0];return f(Y([N("space-y-6")]),Y([O4(G.settings,W,Q),A4(W),T4(G.settings),S4(W)]))}})()]))}else return f(Y([N("max-w-2xl space-y-6")]),Y([f0(Y([N("text-2xl font-semibold text-zinc-300 mb-8")]),Y([x("Settings")])),f(Y([N("bg-zinc-800/50 rounded p-8 text-center border border-zinc-700")]),Y([pZ(Y([N("text-zinc-400 mb-4")]),Y([x("Access Denied")])),pZ(Y([N("text-sm text-zinc-500")]),Y([x("You must be an administrator to access the settings page.")]))]))]))}var q4="src/quickslice_client.gleam";class p0 extends I{}class j0 extends I{}class kQ extends I{}class Y0 extends I{}class fQ extends I{constructor(Z,W,J){super();this.did=Z,this.handle=W,this.is_admin=J}}class hZ extends I{constructor(Z,W,J,K,X,V,Q){super();this.cache=Z,this.registry=W,this.route=J,this.time_range=K,this.settings_page_model=X,this.is_backfilling=V,this.auth_state=Q}}class NW extends I{constructor(Z,W,J){super();this[0]=Z,this[1]=W,this[2]=J}}class jK extends I{constructor(Z,W){super();this[0]=Z,this[1]=W}}class OK extends I{constructor(Z,W){super();this[0]=Z,this[1]=W}}class TK extends I{constructor(Z){super();this[0]=Z}}class AK extends I{constructor(Z){super();this[0]=Z}}class SK extends I{constructor(Z){super();this[0]=Z}}class yQ extends I{constructor(Z){super();this[0]=Z}}function w4(Z,W){if(W instanceof NW){let J=W[2];if(J instanceof H){let K=W[0],X=W[1],V=J[0],Q=nV(Z.cache,K,X,V,0),G=qW(Q,Z.registry,(S,y,v)=>{return new NW(S,y,v)},()=>{return 0}),F,M;F=G[0],M=G[1];let U;if(K==="TriggerBackfill")U=!1;else U=Z.is_backfilling;let z=U,D;if(K==="GetCurrentSession"){let S=YK(V);if(S instanceof H){let v=S[0].current_session;if(v instanceof L){let _=v[0];D=new fQ(_.did,_.handle,_.is_admin)}else D=new Y0}else D=new Y0}else D=Z.auth_state;let O=D,R;if(K==="UpdateDomainAuthority")R=mW(Z.settings_page_model,"success","Domain authority updated successfully");else if(K==="UploadLexicons")VK("lexicon-file-input"),R=mW(Z.settings_page_model,"success","Lexicons uploaded successfully");else if(K==="ResetAll"){let S,y=Z.settings_page_model;S=new VW("",y.reset_confirmation,y.selected_file,y.alert),R=mW(S,"success","All data has been reset")}else if(K==="GetSettings"){let S=XW(V);if(S instanceof H){let y=S[0],v=Z.settings_page_model;R=new VW(y.settings.domain_authority,v.reset_confirmation,v.selected_file,v.alert)}else R=Z.settings_page_model}else R=Z.settings_page_model;let C=R,j;if(K==="ResetAll"){let S=R0(F,"GetStatistics",h(Y([]))),y=R0(S,"GetActivityBuckets",h(Y([["range",a(P8(Z.time_range))]]))),v=R0(y,"GetRecentActivity",h(Y([["hours",WW(24)]]))),_=e(v,"GetSettings",h(Y([])),XW),u;u=_[0];let YZ=qW(u,Z.registry,(FZ,zZ,ZZ)=>{return new NW(FZ,zZ,ZZ)},()=>{return 0}),sZ,_Z;sZ=YZ[0],_Z=YZ[1],j=[sZ,_Z]}else if(K==="UploadLexicons")j=[R0(F,"GetStatistics",h(Y([]))),Y([])];else j=[F,Y([])];let E=j,A,k;A=E[0],k=E[1];let b;if(K==="GetCurrentSession"){let S=Z.route;if(O instanceof Y0)if(S instanceof j0)b=Y([mJ("/",new g,new g)]);else b=Y([]);else if(!O.is_admin&&S instanceof j0)b=Y([mJ("/",new g,new g)]);else b=Y([])}else b=Y([]);let B=b;return[new hZ(A,Z.registry,Z.route,Z.time_range,C,z,O),jW((()=>{let S=Y([M,k,B]);return sK(S)})())]}else{let K=W[0],X=J[0],V;if(K==="TriggerBackfill")V=!1;else V=Z.is_backfilling;let Q=V,G;if(K==="UpdateDomainAuthority")G=mW(Z.settings_page_model,"error","Error: "+X);else if(K==="UploadLexicons")G=mW(Z.settings_page_model,"error","Error: "+X);else if(K==="ResetAll")G=mW(Z.settings_page_model,"error","Error: "+X);else if(K==="TriggerBackfill")G=mW(Z.settings_page_model,"error","Error: "+X);else G=Z.settings_page_model;let F=G;return[new hZ(Z.cache,Z.registry,Z.route,Z.time_range,F,Q,Z.auth_state),iZ()]}}else if(W instanceof jK){let J=W[0],K=W[1],X=iV(Z.cache,J,K),V=mW(Z.settings_page_model,"success","Domain authority updated successfully");return[new hZ(X,Z.registry,Z.route,Z.time_range,V,Z.is_backfilling,Z.auth_state),iZ()]}else if(W instanceof OK){let J=W[0],K=W[1],X=pV(Z.cache,J),V,G=e(X,"GetSettings",h(Y([])),XW)[1];if(G instanceof CW)V=G[0].settings.domain_authority;else V=Z.settings_page_model.domain_authority_input;let F=V,M,U=Z.settings_page_model;M=new VW(F,U.reset_confirmation,U.selected_file,new L(["error","Error: "+K]));let z=M;return[new hZ(X,Z.registry,Z.route,Z.time_range,z,Z.is_backfilling,Z.auth_state),iZ()]}else if(W instanceof TK){let J=W[0],K;if(Z.route instanceof j0)K=LQ(Z.settings_page_model);else K=Z.settings_page_model;let V=K;if(J instanceof p0){let Q=e(Z.cache,"GetStatistics",h(Y([])),u0),G;G=Q[0];let F=e(G,"GetSettings",h(Y([])),XW),M;M=F[0];let U=e(M,"GetActivityBuckets",h(Y([["range",a(P8(Z.time_range))]])),R8),z;z=U[0];let D=e(z,"GetRecentActivity",h(Y([["hours",WW(24)]])),t8),O;O=D[0];let R=qW(O,Z.registry,(E,A,k)=>{return new NW(E,A,k)},()=>{return 0}),C,j;return C=R[0],j=R[1],[new hZ(C,Z.registry,J,Z.time_range,V,Z.is_backfilling,Z.auth_state),jW(j)]}else if(J instanceof j0){let Q,G=Z.auth_state;if(G instanceof Y0)Q=!1;else Q=G.is_admin;if(Q){let M=e(Z.cache,"GetSettings",h(Y([])),XW),U;U=M[0];let z=qW(U,Z.registry,(R,C,j)=>{return new NW(R,C,j)},()=>{return 0}),D,O;return D=z[0],O=z[1],[new hZ(D,Z.registry,J,Z.time_range,V,Z.is_backfilling,Z.auth_state),jW(O)]}else return[Z,mJ("/",new g,new g)]}else return[new hZ(Z.cache,Z.registry,J,Z.time_range,V,Z.is_backfilling,Z.auth_state),iZ()]}else if(W instanceof AK){let J=W[0];if(J instanceof J6){let K=J[0],X=h(Y([["range",a(P8(K))]])),V=e(Z.cache,"GetActivityBuckets",X,R8),Q;Q=V[0];let G=qW(Q,Z.registry,(U,z,D)=>{return new NW(U,z,D)},()=>{return 0}),F,M;return F=G[0],M=G[1],[new hZ(F,Z.registry,Z.route,K,Z.settings_page_model,Z.is_backfilling,Z.auth_state),jW(M)]}else if(J instanceof K6){let K=h(Y([])),X=R0(Z.cache,"TriggerBackfill",K),V=e(X,"TriggerBackfill",K,HQ),Q;Q=V[0];let G=qW(Q,Z.registry,(U,z,D)=>{return new NW(U,z,D)},()=>{return 0}),F,M;return F=G[0],M=G[1],[new hZ(F,Z.registry,Z.route,Z.time_range,Z.settings_page_model,!0,Z.auth_state),jW(M)]}else return MK("/graphiql"),[Z,iZ()]}else if(W instanceof SK){let J=W[0];if(J instanceof X6){let K=J[0],X,V=Z.settings_page_model;X=new VW(K,V.reset_confirmation,V.selected_file,new g);let Q=X;return[new hZ(Z.cache,Z.registry,Z.route,Z.time_range,Q,Z.is_backfilling,Z.auth_state),iZ()]}else if(J instanceof V6){let K,X=Z.settings_page_model;K=new VW(X.domain_authority_input,X.reset_confirmation,X.selected_file,new g);let V=K,Q=h(Y([["domainAuthority",a(Z.settings_page_model.domain_authority_input)]])),G,M=e(Z.cache,"GetSettings",h(Y([])),XW)[1];if(M instanceof CW)G=M[0].settings.oauth_client_id;else G=new g;let U=G,z=h(Y([["id",a("Settings:singleton")],["domainAuthority",a(Z.settings_page_model.domain_authority_input)],["oauthClientId",K8(U,a)]])),D=sV(Z.cache,Z.registry,"UpdateDomainAuthority",Q,"Settings:singleton",(C)=>{return z},BQ,(C,j,E)=>{if(j instanceof H)return new jK(C,E);else{let A=j[0];return new OK(C,A)}}),O,R;return O=D[0],R=D[2],[new hZ(O,Z.registry,Z.route,Z.time_range,V,Z.is_backfilling,Z.auth_state),R]}else if(J instanceof Q6)return[Z,iZ()];else if(J instanceof Y6){q0("[UploadLexicons] Button clicked, creating file effect");let K=aW((X)=>{return q0("[UploadLexicons] Effect running, calling read_file_as_base64"),XK("lexicon-file-input",(V)=>{return q0("[UploadLexicons] Callback received result"),X(new yQ(V))})});return[Z,K]}else if(J instanceof G6){let K=J[0],X,V=Z.settings_page_model;X=new VW(V.domain_authority_input,K,V.selected_file,new g);let Q=X;return[new hZ(Z.cache,Z.registry,Z.route,Z.time_range,Q,Z.is_backfilling,Z.auth_state),iZ()]}else{let K=h(Y([["confirm",a(Z.settings_page_model.reset_confirmation)]])),X=R0(Z.cache,"ResetAll",K),V=e(X,"ResetAll",K,IQ),Q;Q=V[0];let G=qW(Q,Z.registry,(O,R,C)=>{return new NW(O,R,C)},()=>{return 0}),F,M;F=G[0],M=G[1];let U,z=Z.settings_page_model;U=new VW(z.domain_authority_input,"",z.selected_file,new g);let D=U;return[new hZ(F,Z.registry,Z.route,Z.time_range,D,Z.is_backfilling,Z.auth_state),jW(M)]}}else{let J=W[0];if(J instanceof H){let K=J[0];q0("[FileRead] Successfully read file, uploading...");let X=h(Y([["zipBase64",a(K)]])),V=R0(Z.cache,"UploadLexicons",X),Q=e(V,"UploadLexicons",X,RQ),G;G=Q[0];let F=qW(G,Z.registry,(R,C,j)=>{return new NW(R,C,j)},()=>{return 0}),M,U;M=F[0],U=F[1];let z,D=Z.settings_page_model;z=new VW(D.domain_authority_input,D.reset_confirmation,new g,D.alert);let O=z;return[new hZ(M,Z.registry,Z.route,Z.time_range,O,Z.is_backfilling,Z.auth_state),jW(U)]}else{let K=J[0];q0("[FileRead] Error reading file: "+K);let X=mW(Z.settings_page_model,"error",K);return[new hZ(Z.cache,Z.registry,Z.route,Z.time_range,X,Z.is_backfilling,Z.auth_state),iZ()]}}}function L4(Z){let W,J=Z.auth_state;if(J instanceof Y0)W=!1;else W=J.is_admin;let K=W;return z9(qQ(Z.cache,Z.time_range,Z.is_backfilling,K),(X)=>{return new AK(X)})}function E4(Z){let W,J=Z.auth_state;if(J instanceof Y0)W=!1;else W=J.is_admin;let K=W;return z9(xQ(Z.cache,Z.settings_page_model,K),(X)=>{return new SK(X)})}function x4(Z){return f(Y([]),Y([f0(Y([N("text-xl font-bold text-zinc-100 mb-4")]),Y([gW("Upload")])),pZ(Y([N("text-zinc-400")]),Y([gW("Upload and manage data")]))]))}function k4(Z){let W,J=Z.auth_state;if(J instanceof Y0)W=new g;else{let{handle:X,is_admin:V}=J;W=new L([X,V])}let K=W;return f(Y([N("bg-zinc-950 text-zinc-300 font-mono min-h-screen")]),Y([f(Y([N("max-w-4xl mx-auto px-6 py-12")]),Y([tV(K),(()=>{let X=Z.route;if(X instanceof p0)return L4(Z);else if(X instanceof j0)return E4(Z);else return x4(Z)})()]))]))}function bQ(Z){let W=Z.path;if(W==="/")return new p0;else if(W==="/settings")return new j0;else if(W==="/upload")return new kQ;else return new p0}function f4(Z){return new TK(bQ(Z))}function y4(Z){let W=cV("http://localhost:8000/admin/graphql"),J=eV(),K,X=m9();if(X instanceof H){let R=X[0];K=bQ(R)}else K=new p0;let V=K,Q=e(W,"GetCurrentSession",h(Y([])),YK),G;G=Q[0];let F;if(V instanceof p0){let R=e(G,"GetStatistics",h(Y([])),u0),C;C=R[0];let j=e(C,"GetSettings",h(Y([])),XW),E;E=j[0];let A=e(E,"GetActivityBuckets",h(Y([["range",a("ONE_DAY")]])),R8),k;k=A[0];let b=e(k,"GetRecentActivity",h(Y([["hours",WW(24)]])),t8),B;B=b[0];let S=qW(B,J,(_,u,YZ)=>{return new NW(_,u,YZ)},()=>{return 0}),y,v;y=S[0],v=S[1],F=[y,v]}else if(V instanceof j0){let R=e(G,"GetSettings",h(Y([])),XW),C;C=R[0];let j=qW(C,J,(k,b,B)=>{return new NW(k,b,B)},()=>{return 0}),E,A;E=j[0],A=j[1],F=[E,A]}else F=[G,Y([])];let M=F,U,z;U=M[0],z=M[1];let D=BV(f4),O=jW(P(D,z));return[new hZ(U,J,V,new m0,EQ(),!1,new Y0),O]}function gQ(){let Z=GV(y4,w4,k4),W=FV(Z,"#app",void 0);if(!(W instanceof H))throw F0("let_assert",q4,"quickslice_client",46,"main","Pattern match failed, no pattern matched the value.",{value:W,start:1103,end:1152,pattern_start:1114,pattern_end:1119});return W}gQ();
