services:
  quickslice:
    build: .
    ports:
      - "8080:8080"
    volumes:
      - quickslice-data:/data
    environment:
      - HOST=0.0.0.0
      - PORT=8080
      - DATABASE_URL=sqlite:/data/quickslice.db
      # NOTE: Do NOT use in production - generate your own secure key
      - SECRET_KEY_BASE=Xdb/9oovpIzYRKPjfTm45QSWYyYJi35GY3n4475SBVmcyxHS9tMoFJcOwPGfA0xW
      - JETSTREAM_DISABLE_CURSOR=true
      - EXTERNAL_BASE_URL=http://127.0.0.1:8080
      # NOTE: Do NOT use in production - generate your own secure key
      - OAUTH_SIGNING_KEY=z42tsNCXT8jZHj37qRd1D1vBE4qns8rp43DZsm1uez3cr8h6
      - OAUTH_LOOPBACK_MODE=true
    restart: on-failure:5

volumes:
  quickslice-data:
